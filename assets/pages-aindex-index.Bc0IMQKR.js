import{d as a,m as e,p as s,c as l,w as t,e as c,o,f as d,g as i,a as u,I as n,S as r,j as f,F as m,k as _,b as p,t as v,h,l as g,v as y,z as k}from"./index-k1hY-fi1.js";import{_ as x}from"./nohave.Bu0Lc2pM.js";import{g as b}from"./tool.COXovwTn.js";import{c as j}from"./index.DD5Tg9IJ.js";import{_ as w}from"./custom-tabbar.BnJZAScf.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const V=C(a({__name:"index",setup(a){const C=e(""),V=e(0),F=e([{name:"å…¨éƒ¨",id:""},{name:"çƒ­æ’­å‰§",id:"hot"},{name:"ç°ä»£å‰§",id:"modern"},{name:"å¤è£…å‰§",id:"ancient"}]),I=e([]);async function z(){var a;try{const e=await j.getVideoList({page:1,limit:20,cate_id:F.value[V.value].id,keyword:C.value});1===e.code&&(I.value=(null==(a=e.data)?void 0:a.list)||e.data||[])}catch{}}function L(){z()}return s(()=>{z()}),(a,e)=>{const s=i,j=n,S=c,U=r,$=g;return o(),l(S,{class:"shop-page"},{default:t(()=>[d(S,{class:"search-bar"},{default:t(()=>[d(S,{class:"search-box"},{default:t(()=>[d(s,{class:"search-icon"},{default:t(()=>[u("ğŸ”")]),_:1}),d(j,{modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=a=>C.value=a),placeholder:"æœä½ æƒ³çœ‹çš„...",class:"search-input"},null,8,["modelValue"])]),_:1}),d(S,{class:"search-btn",onClick:L},{default:t(()=>[d(s,{class:"search-btn-text"},{default:t(()=>[u("æœç´¢")]),_:1})]),_:1})]),_:1}),d(U,{"scroll-x":"",class:"cate-tabs"},{default:t(()=>[d(S,{class:"cate-list"},{default:t(()=>[(o(!0),f(m,null,_(F.value,(a,e)=>(o(),l(S,{key:e,class:p(["cate-item",{active:V.value===e}]),onClick:a=>function(a){V.value=a,z()}(e)},{default:t(()=>[d(s,null,{default:t(()=>[u(v(a.name),1)]),_:2},1024),V.value===e?(o(),l(S,{key:0,class:"cate-line"})):h("",!0)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),d(S,{class:"video-list"},{default:t(()=>[(o(!0),f(m,null,_(I.value,(a,e)=>(o(),l(S,{class:"video-card",key:e},{default:t(()=>[d($,{src:y(b)(a.cover||a.image),mode:"aspectFill",class:"video-cover"},null,8,["src"]),d(S,{class:"video-info"},{default:t(()=>[d(s,{class:"video-title"},{default:t(()=>[u(v(a.title),1)]),_:2},1024),d(S,{class:"video-tags"},{default:t(()=>[d(s,{class:"tag play"},{default:t(()=>[u(v(a.play_count||0)+"æ¬¡æ’­æ”¾",1)]),_:2},1024),d(s,{class:"tag cate"},{default:t(()=>[u(v(a.cate_name||"è§†é¢‘"),1)]),_:2},1024)]),_:2},1024),d(s,{class:"video-desc"},{default:t(()=>[u(v(a.description||""),1)]),_:2},1024),d(S,{class:"watch-btn",onClick:e=>function(a){k({url:`/pages/info?id=${a.id}`})}(a)},{default:t(()=>[d(s,{class:"watch-btn-text"},{default:t(()=>[u("â–¶ ç«‹å³è§‚çœ‹")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)),I.value.length?h("",!0):(o(),l(S,{key:0,class:"empty"},{default:t(()=>[d($,{src:x,mode:"aspectFit",class:"empty-img"}),d(s,{class:"empty-text"},{default:t(()=>[u("æš‚æ— æ•°æ®~")]),_:1})]),_:1}))]),_:1}),d(S,{style:{height:"120rpx"}}),d(w,{active:3})]),_:1})}}}),[["__scopeId","data-v-ac4909ca"]]);export{V as default};
