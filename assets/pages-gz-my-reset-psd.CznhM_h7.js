import{_ as e,K as o,r as a,au as s,x as t,y as l,b as r,f as n,J as d,Z as p,aF as c,m as i,z as u,o as m,j as f,u as x,l as h,n as w,k as y,t as g,D as _,p as z,E as v}from"./index-E36eYFUz.js";import{_ as V}from"./Navigation.fXnM5b3z.js";import{_ as P}from"./CxComfirmBtn.D_Y-qTM9.js";import{_ as k,a as b}from"./emiyanzhengma.C1RAKEWA.js";import{_ as C}from"./mima.CnEZst9Z.js";const j=e({__name:"reset-psd",setup(e){o((e=>({"7566fc16":j})));const{proxy:_}=d(),j=_.$safeAreaInfo.top+80+"rpx";let F=a("重置密码"),U=a(!1);const $=s({phone:"",code:"",password:"",confirmPassword:""}),A=s({phone:"",code:"",password:"",confirmPassword:""}),I=e=>{A[e]="",U.value=!1},B=async()=>{(()=>{let e=!0;$.phone?/^1[3-9]\d{9}$/.test($.phone)||(A.phone="手机号格式不正确",e=!1):(A.phone="手机号不能为空",e=!1),$.code?6!==$.code.length&&(A.code="验证码应为6位",e=!1):(A.code="验证码不能为空",e=!1);const o=$.password;return o?o.length<6||o.length>20?(A.password="密码长度6-20位",e=!1):/^[A-Za-z]/.test(o)||(A.password="密码必须字母开头",e=!1):(A.password="密码不能为空",e=!1),$.confirmPassword?$.confirmPassword!==o&&(A.confirmPassword="两次输入的密码不一致",e=!1):(A.confirmPassword="请再次输入密码",e=!1),e})()&&(U.value=!0,U.value=!1)},K=a(!1),N=a(!1),Z=a(!1),D=a(60),E=async()=>{Z.value||($.phone?/^1[3-9]\d{9}$/.test($.phone)||(A.phone="请输入正确的手机号"):A.phone="请输入手机号")},J=()=>{K.value=!K.value},L=()=>{N.value=!N.value};return(e,o)=>{const a=t(l("LayoutNavigation"),V),s=z,d=t(l("u-input"),p),_=t(l("u-text"),c),j=i,W=v,q=t(l("u-icon"),u),G=t(l("CxComfirmBtn"),P);return m(),r(j,{class:"page-wrap index"},{default:n((()=>[f(a,{title:x(F)},null,8,["title"]),f(j,{class:"page-content"},{default:n((()=>[f(j,{class:"container"},{default:n((()=>[f(j,{class:"input-item"},{default:n((()=>[f(s,{class:"input-icon",src:k,mode:"aspectFit"}),f(d,{modelValue:x($).phone,"onUpdate:modelValue":[o[0]||(o[0]=e=>x($).phone=e),o[1]||(o[1]=e=>I("phone"))],placeholder:"请输入您的手机号码",type:"number",border:"none",maxlength:"11","input-align":"left","placeholder-style":"color: #999; font-size: 24rpx;"},null,8,["modelValue"]),x(A).phone?(m(),r(_,{key:0,class:"error-text",text:x(A).phone,color:"#ff4d4d",size:"20",margin:"0 0 0rpx 90rpx"},null,8,["text"])):h("",!0)])),_:1}),f(j,{class:"input-item"},{default:n((()=>[f(s,{class:"input-icon",src:b,mode:"aspectFit"}),f(d,{modelValue:x($).code,"onUpdate:modelValue":[o[2]||(o[2]=e=>x($).code=e),o[3]||(o[3]=e=>I("code"))],placeholder:"请输入验证码",type:"text",border:"none","input-align":"left","placeholder-style":"color: #999; font-size: 24rpx;"},null,8,["modelValue"]),x(A).code?h("",!0):(m(),r(W,{key:0,onClick:E,class:"verify-btn",style:w({color:x(Z)?"#ccc":"#ff4d4d",fontWeight:"normal"})},{default:n((()=>[y(g(x(Z)?`${x(D)}s后重试`:"获取验证码"),1)])),_:1},8,["style"])),x(A).code?(m(),r(_,{key:1,class:"error-text",text:x(A).code,color:"#ff4d4d",size:"20",margin:"0 0 0rpx 90rpx"},null,8,["text"])):h("",!0)])),_:1}),f(j,{class:"input-item"},{default:n((()=>[f(s,{class:"input-icon",src:C,mode:"aspectFit"}),f(d,{modelValue:x($).password,"onUpdate:modelValue":[o[4]||(o[4]=e=>x($).password=e),o[5]||(o[5]=e=>I("password"))],placeholder:"字母开头,必须包含特殊字符6-20位",type:x(K)?"text":"password",border:"none","input-align":"left","placeholder-style":"color: #999; font-size: 24rpx;"},null,8,["modelValue","type"]),f(q,{name:x(K)?"eye":"",size:"36",color:"#999",onClick:J},null,8,["name"]),x(A).password?(m(),r(_,{key:0,class:"error-text",text:x(A).password,color:"#ff4d4d",size:"20",margin:"0 0 0rpx 90rpx"},null,8,["text"])):h("",!0)])),_:1}),f(j,{class:"input-item"},{default:n((()=>[f(s,{class:"input-icon",src:C,mode:"aspectFit"}),f(d,{modelValue:x($).confirmPassword,"onUpdate:modelValue":[o[6]||(o[6]=e=>x($).confirmPassword=e),o[7]||(o[7]=e=>I("confirmPassword"))],placeholder:"请再次输入密码",type:x(N)?"text":"password",border:"none","input-align":"left","placeholder-style":"color: #999; font-size: 24rpx;"},null,8,["modelValue","type"]),f(q,{name:x(N)?"eye":"",size:"36",color:"#999",onClick:L},null,8,["name"]),x(A).confirmPassword?(m(),r(_,{key:0,class:"error-text",text:x(A).confirmPassword,color:"#ff4d4d",size:"20",margin:"0 0 0rpx 90rpx"},null,8,["text"])):h("",!0)])),_:1})])),_:1}),f(j,{class:"regist-btn-wrap"},{default:n((()=>[f(G,{text:"确认修改",loading:x(U),onClick:B},null,8,["loading"])])),_:1})])),_:1}),f(j)])),_:1})}}},[["__scopeId","data-v-a3b87d46"]]);export{j as default};
