import{_ as a,r as e,c as l,ai as s,x as t,y as c,b as d,f as r,J as o,z as u,m as i,aN as n,o as f,j as m,u as _,g as p,k as g,t as h,F as x,h as v,B as k,C as w,aW as b,E as y,p as C}from"./index-E36eYFUz.js";import{_ as F}from"./Navigation.fXnM5b3z.js";import{_ as z}from"./CxTag.DU_-stGW.js";import{_ as j}from"./CxComfirmBtn.D_Y-qTM9.js";const B=a({__name:"confirm-order",setup(a){const{proxy:B}=o(),A=e("实物藏品-提交订单"),I=e(!1),N=e({name:"李贺涵",phone:"18388888888",detail:"云南省昆明市呈贡区新城吴家营片区朝云街1号"}),T=e([{id:1,image:"https://cdn.uviewui.com/uview/album/1.jpg",title:"古韵民族丝绸非遗刺绣",tags:["实物藏品","超354人在看"],price:188,count:1},{id:2,image:"https://cdn.uviewui.com/uview/album/2.jpg",title:"玄色・凤凰刺绣",tags:["实物藏品","超354人在看"],price:188,count:3}]),V=e("storage"),E=e(""),G=e(40),O=l((()=>T.value.reduce(((a,e)=>a+e.count),0))),D=l((()=>T.value.reduce(((a,e)=>a+e.price*e.count),0))),H=l((()=>D.value+G.value)),J=()=>{w({url:"/pages/address/list?mode=select",events:{selectAddress:a=>{N.value={name:a.contact_person,phone:a.contact_phone,detail:(a.resolvedAddress||"")+(a.detail_address||"")}}}})},L=()=>{I.value=!0,setTimeout((()=>{I.value=!1,b({url:"/pages-gz/grab-order/pay-result?status=success"})}),1e3)};return s((a=>{B.getOpenerEventChannel().on("sendOrderDatas",(a=>{console.log("Received sell orderInfo:",a.orderInfo)}))})),(a,e)=>{const l=t(c("LayoutNavigation"),F),s=t(c("u-icon"),u),o=i,w=y,b=C,B=t(c("CxTag"),z),R=t(c("u-textarea"),n),U=t(c("CxComfirmBtn"),j);return f(),d(o,{class:"page-wrap confirm-order"},{default:r((()=>[m(l,{title:_(A)},null,8,["title"]),m(o,{class:"page-content"},{default:r((()=>[m(o,{class:"info-card address-card",onClick:J},{default:r((()=>[_(N).name?(f(),p(x,{key:0},[m(o,{class:"left-icon"},{default:r((()=>[m(s,{name:"map-fill",color:"#FF6B4B",size:"40rpx"})])),_:1}),m(o,{class:"address-info"},{default:r((()=>[m(o,{class:"user-row"},{default:r((()=>[m(w,{class:"name"},{default:r((()=>[g(h(_(N).name),1)])),_:1}),m(w,{class:"phone"},{default:r((()=>[g(h(_(N).phone),1)])),_:1})])),_:1}),m(o,{class:"addr-text"},{default:r((()=>[g(h(_(N).detail),1)])),_:1})])),_:1}),m(o,{class:"right-icon"},{default:r((()=>[m(s,{name:"arrow-right",color:"#999",size:"28rpx"})])),_:1})],64)):(f(),p(x,{key:1},[m(o,{class:"left-icon"},{default:r((()=>[m(s,{name:"map-fill",color:"#999",size:"40rpx"})])),_:1}),m(o,{class:"address-info"},{default:r((()=>[m(w,{class:"placeholder"},{default:r((()=>[g("请选择收货地址")])),_:1})])),_:1}),m(o,{class:"right-icon"},{default:r((()=>[m(s,{name:"arrow-right",color:"#999",size:"28rpx"})])),_:1})],64))])),_:1}),m(o,{class:"info-card order-info-card"},{default:r((()=>[m(o,{class:"card-title-row"},{default:r((()=>[m(o,{class:"red-bar"}),m(w,{class:"card-title"},{default:r((()=>[g("订单信息")])),_:1})])),_:1}),m(o,{class:"product-list"},{default:r((()=>[(f(!0),p(x,null,v(_(T),((a,e)=>(f(),d(o,{class:"product-item",key:e},{default:r((()=>[m(b,{class:"product-img",src:a.image,mode:"aspectFill"},null,8,["src"]),m(o,{class:"product-details"},{default:r((()=>[m(o,{class:"product-title"},{default:r((()=>[g(h(a.title),1)])),_:2},1024),m(o,{class:"product-tags"},{default:r((()=>[(f(!0),p(x,null,v(a.tags,((a,e)=>(f(),d(B,{text:a,bgGradient:["rgba(248,163,29,0.1)","rgba(248,163,29,0.1)"],key:e},null,8,["text","bgGradient"])))),128)),g("  ")])),_:2},1024),m(o,{class:"product-price-row"},{default:r((()=>[m(w,{class:"price"},{default:r((()=>[g("¥"+h(a.price.toFixed(2)),1)])),_:2},1024),m(w,{class:"count"},{default:r((()=>[g("x"+h(a.count),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),m(o,{class:"summary-section"},{default:r((()=>[m(o,{class:"summary-row"},{default:r((()=>[m(w,{class:"label"},{default:r((()=>[g("商品金额 (共"+h(_(O))+"件)",1)])),_:1}),m(w,{class:"value"},{default:r((()=>[g("¥"+h(_(D).toFixed(2)),1)])),_:1})])),_:1}),m(o,{class:"summary-row"},{default:r((()=>[m(w,{class:"label"},{default:r((()=>[g("技术服务费")])),_:1}),m(w,{class:"value"},{default:r((()=>[g("¥"+h(_(G).toFixed(2)),1)])),_:1})])),_:1}),m(o,{class:"divider"}),m(o,{class:"summary-row total-row"},{default:r((()=>[m(w,{class:"label"},{default:r((()=>[g("订单总价")])),_:1}),m(w,{class:"value total-price"},{default:r((()=>[g("¥"+h(_(H).toFixed(2)),1)])),_:1})])),_:1})])),_:1})])),_:1}),m(o,{class:"info-card link-card"},{default:r((()=>[m(o,{class:"card-title-row"},{default:r((()=>[m(o,{class:"red-bar"}),m(w,{class:"card-title"},{default:r((()=>[g("付款方式")])),_:1})])),_:1}),m(o,{class:"right-action"},{default:r((()=>[m(w,null,{default:r((()=>[g("账户余额")])),_:1}),m(s,{name:"arrow-down",color:"#999",size:"24rpx"})])),_:1})])),_:1}),m(o,{class:"info-card collection-card"},{default:r((()=>[m(o,{class:"card-title-row"},{default:r((()=>[m(o,{class:"red-bar"}),m(w,{class:"card-title"},{default:r((()=>[g("收藏方式")])),_:1})])),_:1}),m(o,{class:"method-options"},{default:r((()=>[m(o,{class:"method-item",onClick:e[0]||(e[0]=a=>V.value="storage")},{default:r((()=>[m(o,{class:"radio-icon"},{default:r((()=>["storage"===_(V)?(f(),d(s,{key:0,name:"checkmark-circle-fill",color:"#FF4141",size:"40rpx"})):(f(),d(o,{key:1,class:"circle-icon"}))])),_:1}),m(o,{class:"method-content"},{default:r((()=>[m(w,{class:"method-name"},{default:r((()=>[g("寄存")])),_:1}),m(w,{class:"method-desc"},{default:r((()=>[g("寄存在平台，平台会将【收藏证书】发放给您，后续【凭收藏证书】或订单凭证可拿回藏品。")])),_:1})])),_:1})])),_:1}),m(o,{class:"method-item",onClick:e[1]||(e[1]=a=>V.value="shipping")},{default:r((()=>[m(o,{class:"radio-icon"},{default:r((()=>["shipping"===_(V)?(f(),d(s,{key:0,name:"checkmark-circle-fill",color:"#FF4141",size:"40rpx"})):(f(),d(o,{key:1,class:"circle-icon"}))])),_:1}),m(o,{class:"method-content"},{default:r((()=>[m(w,{class:"method-name"},{default:r((()=>[g("发货")])),_:1}),m(w,{class:"method-desc"},{default:r((()=>[g("平台会将【收藏证书】和藏品一并发放给您。")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),m(o,{class:"info-card remark-card"},{default:r((()=>[m(o,{class:"card-title-row"},{default:r((()=>[m(o,{class:"red-bar"}),m(w,{class:"card-title"},{default:r((()=>[g("备注")])),_:1})])),_:1}),m(o,{class:"remark-input-box"},{default:r((()=>[m(R,{modelValue:_(E),"onUpdate:modelValue":e[2]||(e[2]=a=>k(E)?E.value=a:null),placeholder:"请输入订单备注",border:"none",autoHeight:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(o,{class:"bottom-bar"},{default:r((()=>[m(U,{text:"去支付",loading:_(I),onClick:L},null,8,["loading"])])),_:1})])),_:1})}}},[["__scopeId","data-v-17f5e3e7"]]);export{B as default};
