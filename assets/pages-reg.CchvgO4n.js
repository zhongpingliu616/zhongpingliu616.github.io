import{d as a,J as e,c as s,w as l,e as o,o as t,f as n,l as u,a as i,I as d,i as c,K as r,A as p,D as m,E as g}from"./index-k1hY-fi1.js";import{_ as h}from"./logo.CwdGqlGt.js";import{u as w}from"./index.DD5Tg9IJ.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _="/shanzhili-h5/static/mm.png",V=f(a({__name:"reg",setup(a){const f=e({account:"",password:"",password2:"",realname:"",pid:""});function V(){r({url:"/pages/login"})}async function x(){if(!f.account||f.account.length<11)return p({title:"请输入正确的手机号",icon:"none"});if(!f.password||f.password.length<6)return p({title:"密码至少6位",icon:"none"});if(f.password!==f.password2)return p({title:"两次密码不一致",icon:"none"});m({title:"注册中...",mask:!0});try{const a=await w.register(f);g(),p({title:a.msg,icon:"none"}),1===a.code&&setTimeout(()=>r({url:"/pages/login"}),1500)}catch(a){g()}}return(a,e)=>{const r=u,p=o,m=d,g=c;return t(),s(p,{class:"login-page"},{default:l(()=>[n(r,{class:"logo-img",src:h,mode:"widthFix"}),n(r,{class:"logo-name",src:"/shanzhili-h5/static/szl.png",mode:"widthFix"}),n(p,{class:"page-center"},{default:l(()=>[n(p,{class:"logo-tips"},{default:l(()=>[i("注册")]),_:1}),n(p,{class:"input-box"},{default:l(()=>[n(p,{class:"input-row"},{default:l(()=>[n(r,{class:"input-icon",src:"/shanzhili-h5/static/zh.png",mode:"widthFix"}),n(m,{class:"u-input",modelValue:f.account,"onUpdate:modelValue":e[0]||(e[0]=a=>f.account=a),maxlength:"11",type:"number",placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),n(p,{class:"input-row"},{default:l(()=>[n(r,{class:"input-icon",src:_,mode:"widthFix"}),n(m,{class:"u-input",modelValue:f.password,"onUpdate:modelValue":e[1]||(e[1]=a=>f.password=a),type:"password",placeholder:"请输入登录密码"},null,8,["modelValue"])]),_:1}),n(p,{class:"input-row"},{default:l(()=>[n(r,{class:"input-icon",src:_,mode:"widthFix"}),n(m,{class:"u-input",modelValue:f.password2,"onUpdate:modelValue":e[2]||(e[2]=a=>f.password2=a),type:"password",placeholder:"请确认登录密码"},null,8,["modelValue"])]),_:1}),n(p,{class:"input-row"},{default:l(()=>[n(m,{class:"u-input",modelValue:f.realname,"onUpdate:modelValue":e[3]||(e[3]=a=>f.realname=a),placeholder:"请输入真实姓名"},null,8,["modelValue"])]),_:1}),n(p,{class:"input-row"},{default:l(()=>[n(m,{class:"u-input",modelValue:f.pid,"onUpdate:modelValue":e[4]||(e[4]=a=>f.pid=a),type:"number",placeholder:"请输入邀请码（选填）"},null,8,["modelValue"])]),_:1})]),_:1}),n(g,{class:"login-btn",onClick:x},{default:l(()=>[i("注册")]),_:1}),n(p,{class:"reg-entry"},{default:l(()=>[n(p,{class:"reg-btn",onClick:V},{default:l(()=>[i("已有账号？去登录")]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-2d05e1e6"]]);export{V as default};
