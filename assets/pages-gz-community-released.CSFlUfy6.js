import{_ as a,r as e,C as l,D as s,b as t,f as o,E as c,m as u,o as n,j as i,u as r,k as d,t as m,g as p,h as f,F as _,l as v,bb as g,ax as k,J as C,ak as h,an as x,ah as y,ap as b,A as z,$ as T,av as j,p as F}from"./index-vfEMzM-K.js";import{_ as V}from"./Navigation.nOf0Yq_M.js";import{_ as w}from"./CxComfirmBtn.DxLwN25C.js";const B=a({__name:"released",setup(a){let B=e("发布");const I=e(""),L=e("广州市"),N=e([]),S=()=>{g({itemList:["广州市","深圳市","北京市","上海市"],success:a=>{L.value=["广州市","深圳市","北京市","上海市"][a.tapIndex]}})},A=()=>{L.value=""},D=()=>{k({count:9-N.value.length,sizeType:["original","compressed"],sourceType:["album","camera"],success:a=>{N.value=[...N.value,...a.tempFilePaths]}})},E=()=>{I.value.trim()||0!==N.value.length?(h({title:"发布中..."}),console.log("图片列表",N.value),setTimeout((()=>{x(),C({title:"发布成功",icon:"success"}),setTimeout((()=>{y()}),1500)}),1e3)):C({title:"请输入内容或添加图片",icon:"none"})};return(a,e)=>{const g=l(s("LayoutNavigation"),V),k=b,C=z,h=l(s("u-icon"),c),x=u,y=F,J=l(s("CxComfirmBtn"),w);return n(),t(x,{class:"page-wrap released"},{default:o((()=>[i(g,{title:r(B)},null,8,["title"]),i(x,{class:"page-content"},{default:o((()=>[i(x,{class:"input-card"},{default:o((()=>[i(k,{class:"textarea",modelValue:I.value,"onUpdate:modelValue":e[0]||(e[0]=a=>I.value=a),placeholder:"记录你的美好生活","placeholder-class":"placeholder",maxlength:"500"},null,8,["modelValue"]),i(x,{class:"input-footer"},{default:o((()=>[L.value?(n(),t(x,{key:0,class:"location-tag",onClick:A},{default:o((()=>[i(C,null,{default:o((()=>[d(m(L.value),1)])),_:1}),i(h,{name:"close",size:"20",color:"#666",style:{"margin-left":"6rpx"}})])),_:1})):(n(),t(x,{key:1,class:"location-placeholder",onClick:S},{default:o((()=>[i(h,{name:"map",size:"24",color:"#999"}),i(C,null,{default:o((()=>[d("添加位置")])),_:1})])),_:1})),i(C,{class:"word-count"},{default:o((()=>[d(m(I.value.length)+"/500",1)])),_:1})])),_:1})])),_:1}),i(x,{class:"section-title"},{default:o((()=>[d("添加图片/视频")])),_:1}),i(x,{class:"upload-card"},{default:o((()=>[i(x,{class:"image-grid"},{default:o((()=>[(n(!0),p(_,null,f(N.value,((a,e)=>(n(),t(x,{class:"image-item",key:e},{default:o((()=>[i(y,{src:a,mode:"aspectFill",class:"img",onClick:a=>(a=>{j({urls:N.value,current:a})})(e)},null,8,["src","onClick"]),i(x,{class:"delete-btn",onClick:T((a=>(a=>{N.value.splice(a,1)})(e)),["stop"])},{default:o((()=>[i(h,{name:"close",color:"#fff",size:"16"})])),_:2},1032,["onClick"])])),_:2},1024)))),128)),N.value.length<9?(n(),t(x,{key:0,class:"add-btn",onClick:D},{default:o((()=>[i(h,{name:"plus",color:"#999",size:"60"})])),_:1})):v("",!0)])),_:1}),i(C,{class:"tip"},{default:o((()=>[d("图片/视频大小2M")])),_:1})])),_:1}),i(J,{text:"发布",btnStyle:{},onClick:E})])),_:1})])),_:1})}}},[["__scopeId","data-v-dbf2c7a1"]]);export{B as default};
