import{_ as a}from"./Navigation.DJK0J8h_.js";import{_ as t,r as e,d as s,x as l,a1 as o,J as i,C as c,a2 as n,D as r,a3 as u,a4 as d,E as p,a5 as f,a6 as g,o as _,g as m,j as x,f as h,k as y,t as b,u as v,n as w,y as F,b as k,l as C,F as D,a7 as I,I as N,A as z,m as T,c as j,a0 as S,a as G,a8 as H,U as L,a9 as $,H as A}from"./index-Cklw5-2D.js";import{_ as E}from"./CxTag.b7zN5PMZ.js";import{_ as M}from"./production-details.j0Db-YC7.js";const R=t({__name:"NftDetail",props:{collectionImage:{type:String,default:""},id:{type:[String,Number],default:""}},emits:["update:collectionImage"],setup(a,{emit:t}){e(!0);let j=e({});const S=t;let G=e(a.id);s((()=>{var a;if(!G.value){const t=l(),e=t[t.length-1],s=e.options||(null==(a=e.$page)?void 0:a.options)||{};G.value=s.id}G.value&&H()}));const H=async()=>{try{const a=await o({id:G.value});200===a.code?(j.value=(null==a?void 0:a.data.list)||{},S("update:collectionImage",j.value.image||"")):i({title:a.msg||"获取详情失败",icon:"none"})}catch(a){console.error("获取详情异常",a)}},L=async()=>{try{const a=await I({id:j.value.id,type:1==j.value.collect_status?2:1});200===a.code?(j.value.collect_status=1==j.value.collect_status?2:1,i({title:1==j.value.collect_status?"收藏成功":"已取消收藏",icon:"success"})):i({title:a.msg||"操作失败",icon:"none"})}catch(a){console.error("收藏操作异常",a),i({title:"操作失败",icon:"none"})}},$=()=>{console.log("客服")},A=()=>{1!=j.value.rush_status&&N({url:`/pages/xn/my/deposit?id=${j.value.id}`})},R=()=>{if(1==j.value.rush_status)return N({url:`/pages/xn/my/deposit?id=${j.value.id}`}),void i({title:"请支付押金后抢单",icon:"success"})},U=a=>{console.log("点击了正品保障",a)};return(a,t)=>{const e=z,s=c(r("u-col"),n),l=c(r("u-row"),u),o=T,i=c(r("CxTag"),E),I=c(r("u-card"),d),N=c(r("u-icon"),p),S=c(r("u-cell"),f),G=c(r("u-image"),g);return _(),m(D,null,[x(o,{class:"sold-info"},{default:h((()=>[x(I,{"border-radius":16,padding:20,"show-head":!1},{body:h((()=>[x(l,{justify:"space-between",class:"price-section"},{default:h((()=>[x(s,{span:"8"},{default:h((()=>[x(e,{class:"current-price"},{default:h((()=>[y("¥"+b(v(j).money),1)])),_:1}),x(e,{class:"original-price"},{default:h((()=>[y("¥"+b(v(j).new_money),1)])),_:1})])),_:1}),x(s,{span:"4",textAlign:"right"},{default:h((()=>[x(e,{class:"sales-info"},{default:h((()=>[y("已售"+b(v(j).total_sales)+"件",1)])),_:1})])),_:1})])),_:1}),x(o,{class:"title"},{default:h((()=>[y(b(v(j).name),1)])),_:1}),x(o,{class:"status-tags"},{default:h((()=>[x(i,{text:v(j).period||"",bgGradient:["rgba(248,163,29,0.1)","rgba(248,163,29,0.1)"]},null,8,["text","bgGradient"]),y("  "),x(i,{text:v(j).difficulty||"",bgGradient:["rgba(248,163,29,0.1)","rgba(248,163,29,0.1)"]},null,8,["text","bgGradient"])])),_:1})])),_:1})])),_:1}),x(o,{class:"commodity-welfare"},{default:h((()=>[x(o,{class:"cell-wrapper"},{default:h((()=>[x(S,{title:"正品保证",name:"正品保证",class:"welfare-item",border:!1,"custom-style":{padding:"16rpx 32rpx"},"title-style":{fontSize:"28rpx",fontWeight:500},onClick:U},{"right-icon":h((()=>[x(N,{name:"arrow-right",color:"#666",size:"36rpx"})])),_:1})])),_:1}),x(o,{class:"cell-wrapper"},{default:h((()=>[x(S,{title:"7天无理由退货",name:"7天无理由退货",class:"welfare-item",border:!1,"custom-style":{padding:"16rpx 32rpx"},"title-style":{fontSize:"28rpx",fontWeight:500},onClick:U},{"right-icon":h((()=>[x(N,{name:"arrow-right",color:"#666",size:"36rpx"})])),_:1})])),_:1})])),_:1}),x(o,{class:"creative-process"},{default:h((()=>[x(o,{class:"chain-title"},{default:h((()=>[x(G,{src:M,width:"30rpx",height:"30rpx",mode:"widthFix",radius:"50%"}),y("   制作详情 ")])),_:1}),x(I,{border:!1,"show-head":!1,padding:20,"border-radius":16,"custom-style":{background:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",border:"2px solid #FFE185"}},{body:h((()=>[x(o,{class:"content-text",innerHTML:v(j).details},null,8,["innerHTML"])])),_:1},8,["custom-style"])])),_:1}),x(o,{class:"footer-bar"},{default:h((()=>[x(o,{class:"left-actions"},{default:h((()=>[x(o,{class:"action-item",onClick:L},{default:h((()=>[x(N,{name:"star",size:"60rpx",color:1==v(j).collect_status?"#FFD700":"#FFFFFF"},null,8,["color"]),x(e,{class:"action-text collect",style:w({color:1==v(j).collect_status?"#FFD700":"#FFFFFF"})},{default:h((()=>[y(b(1==v(j).collect_status?"已收藏":"收藏"),1)])),_:1},8,["style"])])),_:1}),x(o,{class:"action-item",onClick:$},{default:h((()=>[x(N,{name:"kefu-ermai",size:"60rpx",color:"#FFD700"}),x(e,{class:"action-text service"},{default:h((()=>[y("客服")])),_:1})])),_:1})])),_:1}),x(o,{class:"right-buttons"},{default:h((()=>[x(o,{class:F(["gradient-btn-item shopping-cart",{"authen-gray":1==v(j).rush_status}]),onClick:A},{default:h((()=>[x(o,{class:"gradient-button"}),x(o,{class:"button-inner"},{default:h((()=>[y(" 支付押金 "),1!=v(j).rush_status?(_(),k(o,{key:0,class:"update-tip"},{default:h((()=>[y(" 需要升等级 ")])),_:1})):C("",!0)])),_:1})])),_:1},8,["class"]),x(o,{class:F(["gradient-btn-item buy-now",{"authen-gray":1!=v(j).rush_status}]),onClick:R},{default:h((()=>[x(o,{class:"gradient-button"}),x(o,{class:"button-inner"},{default:h((()=>[y(" 一键抢单 ")])),_:1})])),_:1},8,["class"])])),_:1})])),_:1})],64)}}},[["__scopeId","data-v-65ae30b0"]]),U=t({__name:"index",setup(t){let s=e("作品详情"),l=e(""),o=e("NftDetail"),i=e(null);const n={NftDetail:R},u=j((()=>n[o.value])),d=()=>{console.log("分享按钮被点击")};return S((({id:a,workType:t})=>{i.value=a})),(t,e)=>{const n=G("up-icon"),p=c(r("LayoutNavigation"),a),f=G("up-image"),g=T;return _(),k(g,{class:"page-wrap collection-detail",style:w({gridTemplateRows:"NftDetail"==v(o)&&"80rpx 1fr 120rpx"})},{default:h((()=>[x(p,{title:v(s)},H({_:2},["NftDetail"==v(o)?{name:"right",fn:h((()=>[x(n,{name:"share-square",size:"48rpx",color:"#fff",onClick:d})])),key:"0"}:void 0]),1032,["title"]),x(g,{class:"page-content"},{default:h((()=>[x(g,{class:"current-works"},{default:h((()=>[x(f,{class:"works-image",width:"680rpx",height:"700rpx",src:v(l)},null,8,["src"])])),_:1}),x(g,{class:"xiuniang-information"},{default:h((()=>[(_(),k(L,null,[(_(),k(r(v(u)),$({id:v(i)},{collectionImage:v(l),"onUpdate:collectionImage":e[0]||(e[0]=a=>A(l)?l.value=a:l=a)}),null,16,["collectionImage"]))],1024))])),_:1})])),_:1}),x(g)])),_:1},8,["style"])}}},[["__scopeId","data-v-147cd3c1"]]);export{U as default};
