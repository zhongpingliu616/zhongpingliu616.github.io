import{_ as e,T as a,r as t,ag as s,d as n,aJ as l,v as i,C as o,D as c,b as d,f as r,J as u,m,o as p,j as g,u as v,g as _,h as x,F as f,aK as C,l as y,aL as h,I as k,k as I,t as w,A as L}from"./index-DiJpDbC3.js";import{_ as j}from"./Navigation.CPbYaFbJ.js";import{_ as N}from"./LevelCard.CIxHn4Ko.js";import{_ as b}from"./CxComfirmBtn.CPDBkoVY.js";const A=e({__name:"index",setup(e){const A=a();t(1);let D=t("等级选择"),B=t(!1),J=t(1),T=s([]);s([{text:"手机号验证"},{text:"身份验证"},{text:"等级选择"}]);const F=async()=>{B.value=!0;const{name:e,deposit:a=0,id:t}=T[J.value-1],{code:s,data:n,msg:l}=await h({id:t});B.value=!1,200===s?(await A.updateUserInfo("XN",{level:n.level,is_buy:n.is_buy,real_name_check:n.real_name_check}),k({url:"/pages/xn/my/identity-authentication",success(t){t.eventChannel.emit("acceptLevelData",{selectIndex:J,name:e,deposit:a})}})):100014===s?(u({title:l||"更新失败",icon:"none"}),k({url:"/pages/xn/my/identity-authentication",success(t){t.eventChannel.emit("acceptLevelData",{selectIndex:J,name:e,deposit:a})}})):u({title:l||"更新失败",icon:"none"})};return n((async()=>{((e={})=>{const{code:a=9999,data:t,msg:s}=e;200===a?(null==t?void 0:t.lists.length)>0&&T.splice(0,T.length,...t.lists):u({title:s||"数据加载失败",icon:"none"})})(await l()||{})})),i((()=>{})),(e,a)=>{const t=o(c("LayoutNavigation"),j),s=o(c("CommonLevelCard"),N),n=m,l=L,i=o(c("CxComfirmBtn"),b);return p(),d(n,{class:"page-wrap grab-order"},{default:r((()=>[g(t,{title:v(D)},null,8,["title"]),g(n,{class:"page-content"},{default:r((()=>[g(n,{class:"cloud-list"},{default:r((()=>[(p(!0),_(f,null,x(v(T),((e,a)=>(p(),d(s,{key:e.name,cardIndex:a+1,selectIndex:v(J),levelName:e.name,guaranteedAmount:e.deposit,works:e.content,onClick:()=>(e=>{J.value=e+1})(a)},null,8,["cardIndex","selectIndex","levelName","guaranteedAmount","works","onClick"])))),128))])),_:1}),v(T).length?(p(),_(f,{key:0},[g(n,{class:"margin-instruction"},{default:r((()=>[C("h5",{class:"level-title"},"等级说明："),(p(!0),_(f,null,x(v(T),((e,a)=>(p(),d(l,{class:"margin-instruction-text",key:e.name},{default:r((()=>[I(w(a+1)+"档("+w(e.deposit)+"元) ",1)])),_:2},1024)))),128))])),_:1}),g(n,{class:"enter-wrap"},{default:r((()=>[g(i,{text:"进入",loading:v(B),onClick:F},null,8,["loading"])])),_:1})],64)):y("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-66c54e0a"]]);export{A as default};
