import{_ as e,r as a,au as l,x as t,y as o,b as d,f as n,m as i,aY as r,Z as s,a0 as u,aZ as m,o as p,j as c,k as f,t as b,D as h,an as _,ap as g,C as v}from"./index-E36eYFUz.js";import{_ as C}from"./Navigation.fXnM5b3z.js";import{_ as V}from"./CxComfirmBtn.D_Y-qTM9.js";const x=e({__name:"register-exhibition",setup(e){const x=a("双十二 · 线下展会"),$=l({name:"",phone:"",code:"",idCard:""}),y=a("获取验证码"),w=a(!1),U=a(null),j=()=>{if(!/^1[3-9]\d{9}$/.test($.phone))return void h({title:"请输入正确的手机号",icon:"none"});if(w.value)return;h({title:"验证码已发送",icon:"success"});let e=60;w.value=!0,y.value=`${e}s`,U.value=setInterval((()=>{e--,e>0?y.value=`${e}s`:(clearInterval(U.value),y.value="获取验证码",w.value=!1)}),1e3)},k=()=>$.name?/^1[3-9]\d{9}$/.test($.phone)?$.code?/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test($.idCard)?(_({title:"提交中"}),void setTimeout((()=>{g(),v({url:`/pages-gz/registration-successful?name=${encodeURIComponent($.name)}&phone=${$.phone}&idCard=${$.idCard}`})}),1e3)):h({title:"请输入正确的身份证号码",icon:"none"}):h({title:"请输入验证码",icon:"none"}):h({title:"请输入正确的手机号",icon:"none"}):h({title:"请输入姓名",icon:"none"});return(e,a)=>{const l=t(o("LayoutNavigation"),C),h=i,_=t(o("u-form-item"),r),g=t(o("u-input"),s),v=t(o("u-button"),u),U=t(o("u-form"),m),I=t(o("CxComfirmBtn"),V);return p(),d(h,{class:"page-wrap register-exhibition"},{default:n((()=>[c(l,{type:"gz",title:x.value},null,8,["title"]),c(h,{class:"page-content"},{default:n((()=>[c(h,{class:"form-card"},{default:n((()=>[c(U,{model:$,ref:"uForm"},{default:n((()=>[c(_,{label:"活动名称","label-width":"150"},{default:n((()=>[c(h,{class:"activity-name"},{default:n((()=>[f("双十二 · 线下展会")])),_:1})])),_:1}),c(_,{label:"姓名","label-width":"150",prop:"name"},{default:n((()=>[c(g,{modelValue:$.name,"onUpdate:modelValue":a[0]||(a[0]=e=>$.name=e),placeholder:"请输入姓名",border:"false","input-align":"right"},null,8,["modelValue"])])),_:1}),c(_,{label:"手机号","label-width":"150",prop:"phone"},{default:n((()=>[c(g,{modelValue:$.phone,"onUpdate:modelValue":a[1]||(a[1]=e=>$.phone=e),placeholder:"请输入手机号",type:"number",border:"false","input-align":"right"},null,8,["modelValue"])])),_:1}),c(_,{label:"验证码","label-width":"150",prop:"code"},{default:n((()=>[c(h,{class:"code-wrap"},{default:n((()=>[c(g,{modelValue:$.code,"onUpdate:modelValue":a[2]||(a[2]=e=>$.code=e),placeholder:"请输入验证码",type:"number",border:"false","input-align":"right"},null,8,["modelValue"]),c(h,{class:"code-btn"},{default:n((()=>[c(v,{size:"mini",type:"error",disabled:w.value,onClick:j,"custom-style":{background:"#FF4141",color:"#fff",border:"none"}},{default:n((()=>[f(b(y.value),1)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1}),c(_,{label:"身份证号码","label-width":"180",prop:"idCard","border-bottom":"false"},{default:n((()=>[c(g,{modelValue:$.idCard,"onUpdate:modelValue":a[3]||(a[3]=e=>$.idCard=e),placeholder:"请输入身份证号码",border:"false","input-align":"right"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1}),c(h,{class:"footer-btn"},{default:n((()=>[c(I,{text:"立即报名",onClick:k})])),_:1})])),_:1})}}},[["__scopeId","data-v-2e861c97"]]);export{x as default};
