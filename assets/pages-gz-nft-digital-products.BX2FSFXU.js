import{_ as a}from"./Navigation.DJK0J8h_.js";import{r as t,_ as e,o as s,b as l,f as o,j as n,k as r,g as i,F as d,h as c,y as u,t as h,A as p,m,C as x,D as f,u as b}from"./index-Cklw5-2D.js";import{_ as g}from"./CxComfirmBtn.C_6MRR7B.js";import{i as _}from"./index.BOPsWxaC.js";let y=null;const M={mounted(){this.initChart()},methods:{initChart(){const a=document.getElementById("digital-chart");a&&(y=_(a),this.updateChart({tabsIndex:0}))},generateData(a){let t=100*Math.random(),e=[],s=[],l=[];for(let o=0;o<a;o++){let n=new Date;n.setDate(n.getDate()-(a-o)),s.push([n.getFullYear(),n.getMonth()+1,n.getDate()].join("/")),t=t+20*Math.random()-10;let r=Math.max(0,Math.round(t)+Math.round(Math.random()-.5)),i=Math.round(r+10*Math.random()-5),d=Math.round(r+10*Math.random()-5),c=Math.min(i,d)-5*Math.random(),u=Math.max(i,d)+5*Math.random(),h=Math.round(1e3*Math.random());e.push([i,d,c,u]),l.push(h)}return{dates:s,boxVals:e,volumes:l}},calculateMA(a,t){for(var e=[],s=0,l=t.boxVals.length;s<l;s++)if(s<a)e.push("-");else{for(var o=0,n=0;n<a;n++)o+=t.boxVals[s-n][1];e.push(o/a)}return e},updateChart(a,t,e,s){if(!y)return;const l=a?a.tabsIndex:0,o=0===l?30:1===l?60:90,n=this.generateData(o),r={backgroundColor:"#fff",animation:!1,tooltip:{trigger:"axis",axisPointer:{type:"cross"},backgroundColor:"rgba(255, 255, 255, 0.8)",position:function(a,t,e,s,l){const o={top:10};return o[["left","right"][+(a[0]<l.viewSize[0]/2)]]=30,o}},axisPointer:{link:[{xAxisIndex:"all"}],label:{backgroundColor:"#777"}},grid:[{left:"10%",right:"8%",height:"50%"},{left:"10%",right:"8%",top:"63%",height:"16%"}],xAxis:[{type:"category",data:n.dates,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},min:"dataMin",max:"dataMax"},{type:"category",gridIndex:1,data:n.dates,boundaryGap:!1,axisLine:{onZero:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},min:"dataMin",max:"dataMax"}],yAxis:[{scale:!0,splitArea:{show:!0}},{scale:!0,gridIndex:1,splitNumber:2,axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}}],dataZoom:[{type:"inside",xAxisIndex:[0,1],start:50,end:100},{show:!0,xAxisIndex:[0,1],type:"slider",top:"85%",start:50,end:100}],series:[{name:"日K",type:"candlestick",data:n.boxVals,itemStyle:{color:"#00C853",color0:"#FF4141",borderColor:"#00C853",borderColor0:"#FF4141"}},{name:"MA5",type:"line",data:this.calculateMA(5,n),smooth:!0,lineStyle:{opacity:.5}},{name:"MA10",type:"line",data:this.calculateMA(10,n),smooth:!0,lineStyle:{opacity:.5}},{name:"MA20",type:"line",data:this.calculateMA(20,n),smooth:!0,lineStyle:{opacity:.5}},{name:"Volume",type:"bar",xAxisIndex:1,yAxisIndex:1,data:n.volumes,itemStyle:{color:a=>n.boxVals[a.dataIndex][1]>n.boxVals[a.dataIndex][0]?"#00C853":"#FF4141"}}]};y.setOption(r)}}},C=a=>{a.$renderjs||(a.$renderjs=[]),a.$renderjs.push("echarts"),a.mixins||(a.mixins=[]),a.mixins.push({beforeCreate(){this.echarts=this},mounted(){this.$ownerInstance=this.$gcd(this,!0)}}),a.mixins.push(M)},w={setup(){const a=t(0),e=t({tabsIndex:0,timestamp:0});return{tabs:["日","周","月"],currentTab:a,chartData:e,handleTabChange:t=>{a.value=t,e.value={tabsIndex:t,timestamp:Date.now()}}}}};C(w);const v=e(w,[["render",function(a,t,e,x,f,b){const g=p,_=m;return s(),l(_,{class:"chart-card"},{default:o((()=>[n(_,{class:"header"},{default:o((()=>[n(g,{class:"title"},{default:o((()=>[r("趋势")])),_:1}),n(_,{class:"tabs"},{default:o((()=>[(s(!0),i(d,null,c(x.tabs,((a,t)=>(s(),l(g,{key:t,class:u(["tab-item",{active:x.currentTab===t}]),onClick:a=>x.handleTabChange(t)},{default:o((()=>[r(h(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),n(_,{class:"chart-container"},{default:o((()=>[n(_,{id:"digital-chart",class:"chart-dom",prop:x.chartData,"change:prop":a.echarts.updateChart},null,8,["prop","change:prop"])])),_:1})])),_:1})}],["__scopeId","data-v-c129d0d3"]]),I=e({__name:"digital-products",setup(e){let i=t("NFT数字产品");const d=()=>{console.log("点击持有")},c=()=>{console.log("点击兑换")};return(t,e)=>{const u=x(f("LayoutNavigation"),a),h=p,_=m,y=x(f("CxComfirmBtn"),g);return s(),l(_,{class:"page-wrap digital-products"},{default:o((()=>[n(u,{title:b(i)},null,8,["title"]),n(_,{class:"page-content"},{default:o((()=>[n(_,{class:"price-overview-card"},{default:o((()=>[n(_,{class:"header"},{default:o((()=>[n(h,{class:"label"},{default:o((()=>[r("NFT")])),_:1}),n(h,{class:"tag"},{default:o((()=>[r("+12.63%")])),_:1})])),_:1}),n(_,{class:"main-price"},{default:o((()=>[n(h,{class:"currency"},{default:o((()=>[r("80.36")])),_:1})])),_:1}),n(_,{class:"sub-info"},{default:o((()=>[n(h,{class:"convert"},{default:o((()=>[r("≈ 70.36NFT")])),_:1}),n(_,{class:"stats"},{default:o((()=>[n(_,{class:"stat-row"},{default:o((()=>[n(h,{class:"label"},{default:o((()=>[r("24H最高")])),_:1}),n(h,{class:"value"},{default:o((()=>[r("78.30")])),_:1})])),_:1}),n(_,{class:"stat-row"},{default:o((()=>[n(h,{class:"label"},{default:o((()=>[r("24H最低")])),_:1}),n(h,{class:"value"},{default:o((()=>[r("60.32")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(v)])),_:1}),n(_,{class:"footer-btns"},{default:o((()=>[n(y,{text:"持有",btnStyle:{background:"transparent",color:"#F3D89E"},onClick:d}),r("   "),n(y,{text:"兑换",btnStyle:{},onClick:c})])),_:1})])),_:1})}}},[["__scopeId","data-v-b409bcac"]]);export{I as default};
