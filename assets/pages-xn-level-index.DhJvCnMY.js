import{_ as e,Q as a,r as t,ad as s,d as n,ax as l,v as i,C as o,D as c,b as d,f as r,J as u,m,o as p,j as _,u as v,g,h as x,F as f,ay as y,l as C,az as h,I as k,k as I,t as w,A as j}from"./index-Cklw5-2D.js";import{_ as L}from"./Navigation.DJK0J8h_.js";import{_ as N}from"./LevelCard.CoP7UZNm.js";import{_ as b}from"./CxComfirmBtn.C_6MRR7B.js";const A=e({__name:"index",setup(e){const A=a();t(1);let D=t("等级选择"),B=t(!1),Q=t(1),z=s([]);s([{text:"手机号验证"},{text:"身份验证"},{text:"等级选择"}]);const F=async()=>{B.value=!0;const{name:e,deposit:a=0,id:t}=z[Q.value-1],{code:s,data:n,msg:l}=await h({id:t});B.value=!1,200===s?(await A.updateUserInfo("XN",{level:n.level,is_buy:n.is_buy,real_name_check:n.real_name_check}),k({url:"/pages/xn/my/identity-authentication",success(t){t.eventChannel.emit("acceptLevelData",{selectIndex:Q,name:e,deposit:a})}})):100014===s?(u({title:l||"更新失败",icon:"none"}),k({url:"/pages/xn/my/identity-authentication",success(t){t.eventChannel.emit("acceptLevelData",{selectIndex:Q,name:e,deposit:a})}})):u({title:l||"更新失败",icon:"none"})};return n((async()=>{((e={})=>{const{code:a=9999,data:t,msg:s}=e;200===a?(null==t?void 0:t.lists.length)>0&&z.splice(0,z.length,...t.lists):u({title:s||"数据加载失败",icon:"none"})})(await l()||{})})),i((()=>{})),(e,a)=>{const t=o(c("LayoutNavigation"),L),s=o(c("CommonLevelCard"),N),n=m,l=j,i=o(c("CxComfirmBtn"),b);return p(),d(n,{class:"page-wrap grab-order"},{default:r((()=>[_(t,{title:v(D)},null,8,["title"]),_(n,{class:"page-content"},{default:r((()=>[_(n,{class:"cloud-list"},{default:r((()=>[(p(!0),g(f,null,x(v(z),((e,a)=>(p(),d(s,{key:e.name,cardIndex:a+1,selectIndex:v(Q),levelName:e.name,guaranteedAmount:e.deposit,works:e.content,onClick:()=>(e=>{Q.value=e+1})(a)},null,8,["cardIndex","selectIndex","levelName","guaranteedAmount","works","onClick"])))),128))])),_:1}),v(z).length?(p(),g(f,{key:0},[_(n,{class:"margin-instruction"},{default:r((()=>[y("h5",{class:"level-title"},"等级说明："),(p(!0),g(f,null,x(v(z),((e,a)=>(p(),d(l,{class:"margin-instruction-text",key:e.name},{default:r((()=>[I(w(a+1)+"档("+w(e.deposit)+"元) ",1)])),_:2},1024)))),128))])),_:1}),_(n,{class:"enter-wrap"},{default:r((()=>[_(i,{text:"进入",loading:v(B),onClick:F},null,8,["loading"])])),_:1})],64)):C("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-66c54e0a"]]);export{A as default};
