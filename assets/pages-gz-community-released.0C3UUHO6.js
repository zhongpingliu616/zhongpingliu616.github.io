import{_ as a,r as e,x as l,y as s,b as t,f as o,z as c,m as u,o as n,j as i,u as r,k as d,t as m,g as p,h as f,F as _,l as v,b1 as g,a4 as k,D as x,an as C,ap as h,aq as y,ax as b,E as z,a1 as j,a2 as T,p as F}from"./index-E36eYFUz.js";import{_ as V}from"./Navigation.fXnM5b3z.js";import{_ as w}from"./CxComfirmBtn.D_Y-qTM9.js";const B=a({__name:"released",setup(a){let B=e("发布");const I=e(""),L=e("广州市"),N=e([]),q=()=>{g({itemList:["广州市","深圳市","北京市","上海市"],success:a=>{L.value=["广州市","深圳市","北京市","上海市"][a.tapIndex]}})},A=()=>{L.value=""},D=()=>{k({count:9-N.value.length,sizeType:["original","compressed"],sourceType:["album","camera"],success:a=>{N.value=[...N.value,...a.tempFilePaths]}})},E=()=>{I.value.trim()||0!==N.value.length?(C({title:"发布中..."}),console.log("图片列表",N.value),setTimeout((()=>{h(),x({title:"发布成功",icon:"success"}),setTimeout((()=>{y()}),1500)}),1e3)):x({title:"请输入内容或添加图片",icon:"none"})};return(a,e)=>{const g=l(s("LayoutNavigation"),V),k=b,x=z,C=l(s("u-icon"),c),h=u,y=F,M=l(s("CxComfirmBtn"),w);return n(),t(h,{class:"page-wrap released"},{default:o((()=>[i(g,{title:r(B)},null,8,["title"]),i(h,{class:"page-content"},{default:o((()=>[i(h,{class:"input-card"},{default:o((()=>[i(k,{class:"textarea",modelValue:I.value,"onUpdate:modelValue":e[0]||(e[0]=a=>I.value=a),placeholder:"记录你的美好生活","placeholder-class":"placeholder",maxlength:"500"},null,8,["modelValue"]),i(h,{class:"input-footer"},{default:o((()=>[L.value?(n(),t(h,{key:0,class:"location-tag",onClick:A},{default:o((()=>[i(x,null,{default:o((()=>[d(m(L.value),1)])),_:1}),i(C,{name:"close",size:"20",color:"#666",style:{"margin-left":"6rpx"}})])),_:1})):(n(),t(h,{key:1,class:"location-placeholder",onClick:q},{default:o((()=>[i(C,{name:"map",size:"24",color:"#999"}),i(x,null,{default:o((()=>[d("添加位置")])),_:1})])),_:1})),i(x,{class:"word-count"},{default:o((()=>[d(m(I.value.length)+"/500",1)])),_:1})])),_:1})])),_:1}),i(h,{class:"section-title"},{default:o((()=>[d("添加图片/视频")])),_:1}),i(h,{class:"upload-card"},{default:o((()=>[i(h,{class:"image-grid"},{default:o((()=>[(n(!0),p(_,null,f(N.value,((a,e)=>(n(),t(h,{class:"image-item",key:e},{default:o((()=>[i(y,{src:a,mode:"aspectFill",class:"img",onClick:a=>(a=>{T({urls:N.value,current:a})})(e)},null,8,["src","onClick"]),i(h,{class:"delete-btn",onClick:j((a=>(a=>{N.value.splice(a,1)})(e)),["stop"])},{default:o((()=>[i(C,{name:"close",color:"#fff",size:"16"})])),_:2},1032,["onClick"])])),_:2},1024)))),128)),N.value.length<9?(n(),t(h,{key:0,class:"add-btn",onClick:D},{default:o((()=>[i(C,{name:"plus",color:"#999",size:"60"})])),_:1})):v("",!0)])),_:1}),i(x,{class:"tip"},{default:o((()=>[d("图片/视频大小2M")])),_:1})])),_:1}),i(M,{text:"发布",btnStyle:{},onClick:E})])),_:1})])),_:1})}}},[["__scopeId","data-v-2173217a"]]);export{B as default};
