import{_ as a}from"./Navigation.B6I6j3Nc.js";import{_ as e,C as t,D as l,o,b as s,f as n,j as r,k as u,t as c,l as i,p as d,m,A as p,r as A,d as v,u as f,g,h as D,F as w}from"./index-CFeN5XM9.js";import{_ as h}from"./CxTabs.C4IryxzZ.js";import{_ as y}from"./ProductList.X_LjGJfO.js";import{_ as C}from"./CxTag.c9OneOu4.js";const M=e({__name:"ContractCard",props:{item:{type:Object,default:()=>({})}},emits:["click"],setup(a,{emit:e}){const A=a,v=e,f=()=>{v("click",A.item)};return(e,A)=>{const v=d,g=m,D=p,w=t(l("CxTag"),C);return o(),s(g,{class:"contract-card",onClick:f},{default:n((()=>[r(g,{class:"image-wrapper"},{default:n((()=>[r(v,{src:a.item.image,mode:"aspectFill",class:"card-img"},null,8,["src"])])),_:1}),r(g,{class:"info-wrapper"},{default:n((()=>[r(g,{class:"name-row"},{default:n((()=>[r(D,{class:"name"},{default:n((()=>[u(c(a.item.name),1)])),_:1}),a.item.isSigned?(o(),s(g,{key:0,class:"badge"},{default:n((()=>[r(w,{text:"签约绣娘",icon:"/static/images/common/work-level.png",textStyle:{color:"#805536"},customStyle:{padding:0}})])),_:1})):i("",!0)])),_:1}),r(g,{class:"level-row"},{default:n((()=>[r(D,{class:"level"},{default:n((()=>[u("等级："+c(a.item.level)+"级",1)])),_:1}),r(D,{class:"count"},{default:n((()=>[u(c(a.item.popularity)+"人",1)])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-b09710c3"]]),N=e({__name:"sign-contract",setup(e){let u=A("签约绣娘");A("data:image/png;base64,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");const c=A([{name:"全部",key:"all"},{name:"热度 ⇅",key:"hot",sort:0},{name:"等级 ⇅",key:"level",sort:0},{name:"价格 ⇅",key:"price",sort:0}]),i=A(0),d=A(!1),p=A([]),C=A("loadmore"),N=A("flower");let P=1,O=!0,b=!1;const j=async(a=!1)=>{if(a){if(b)return;d.value=!0,P=1,O=!0}if(O&&!b){b=!0,C.value="loading";try{await new Promise((a=>setTimeout(a,1800)));const l=(e=P,t=10,Array.from({length:t},((a,l)=>({id:(e-1)*t+l+1,image:`https://picsum.photos/seed/${Math.random()}/80/80`,name:"李柳柳",level:Math.floor(10*Math.random())+1,count:Math.floor(6e3*Math.random()),popularity:Math.floor(1e4*Math.random()),price:(1e3*Math.random()).toFixed(2),isSigned:!0}))));l.length<10?(O=!1,C.value="nomore"):C.value="loadmore",p.value=a?l:[...p.value,...l];const o=i.value,s=c.value[o];void 0!==s.sort&&0!==s.sort&&L(o,s.sort),P++}catch(l){a||(C.value="loadmore"),console.error("加载失败:",l)}finally{b=!1,d.value=!1}var e,t}},L=(a,e)=>{if("number"!=typeof a||0===e)return;const t=(a,t,l)=>{const o=Number(a[l]),s=Number(t[l]);return 1===e?s-o:o-s};switch(a){case 1:p.value.sort(((a,e)=>t(a,e,"popularity")));break;case 2:p.value.sort(((a,e)=>t(a,e,"level")));break;case 3:p.value.sort(((a,e)=>t(a,e,"price")))}},T=a=>{const e=i.value,t=c.value[e];if(c.value.forEach(((a,t)=>{t!==e&&void 0!==a.sort&&(a.sort=0,a.name=a.name.split(" ")[0]+" ⇅")})),void 0!==t.sort){t.sort=1===t.sort?2:1;const a=1===t.sort?"↓":"↑";t.name=t.name.split(" ")[0]+" "+a}L(i.value,t.sort)},E=a=>{console.log("点击卡片",a)},G=()=>{j(!0)},z=()=>{j()};return v((()=>{j(!0)})),(e,A)=>{const v=t(l("LayoutNavigation"),a),P=t(l("CxTabs"),h),O=m,b=t(l("BaseProductList"),y);return o(),s(O,{class:"page-wrap sign-contract"},{default:n((()=>[r(v,{title:f(u)},null,8,["title"]),r(O,{class:"page-content"},{default:n((()=>[r(O,{class:"tabs-wrapper"},{default:n((()=>[r(P,{tabItems:c.value,lineHeight:"0",lineWidth:"0",activeStyle:{color:"#F5EAC9"},inactiveStyle:{color:"rgba(255, 255, 255, 1)"},modelValue:i.value,"onUpdate:modelValue":A[0]||(A[0]=a=>i.value=a),onClick:T},null,8,["tabItems","inactiveStyle","modelValue"])])),_:1}),r(O,{class:"list-container"},{default:n((()=>[r(b,{onOnScrollToLower:z,onOnRefresh:G,isRefreshing:d.value,loadStatus:C.value,iconType:N.value,enableRefresh:!0,enableLoadMore:!0,class:"scroll-view"},{scrollContain:n((()=>[r(O,{class:"card-grid"},{default:n((()=>[(o(!0),g(w,null,D(p.value,((a,e)=>(o(),s(O,{class:"grid-item",key:e},{default:n((()=>[r(M,{item:a,onClick:E},null,8,["item"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["isRefreshing","loadStatus","iconType"])])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-93a4cdbf"]]);export{N as default};
