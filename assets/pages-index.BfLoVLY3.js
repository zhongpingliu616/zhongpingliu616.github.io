import{r as e,c as t,w as a,a as l,o as s,b as i,u as n,_ as o,d as r,e as c,f as u,g as d,F as p,h as m,i as g,j as f,k as v,t as h,l as x,n as y,m as _,p as C,q as w,S as A,s as b,v as S,x as z,y as T,z as k,A as j,B as L,C as V,D as X,E as R,G as D,H as B,I,J as F,K as M,L as K,M as O,N as U,O as N,P as H,Q as G,R as P,T as Q,U as E,V as Z,W as J,X as W,Y}from"./index-DiJpDbC3.js";import{_ as $}from"./CxSearch.Bljdt8X3.js";import{_ as q}from"./CustomBarXn.BicbHWaR.js";import{_ as ee}from"./OrderCard.6XbY4em8.js";import{_ as te}from"./ProductList.BN8gitTL.js";import{_ as ae}from"./CxModal.B_6smIRI.js";import{_ as le}from"./CxScrollView.Bq8d3Rmb.js";import{_ as se}from"./TitleList.CG6cdRUR.js";import{_ as ie}from"./ProductCol.DhwZ6BQw.js";import{m as ne}from"./index.Be0RPnRC.js";import"./CxTag.DaRaAxA3.js";import"./CxComfirmBtn.CPDBkoVY.js";const oe={__name:"RolseTabs",props:{modelValue:{type:Number,default:0},tabItems:{type:Array,default:()=>[{name:"我是绣娘"},{name:"我是公众"}]},itemStyle:{type:Object,default:()=>({})},lineBg:{type:String,default:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAASCAMAAAA0cZ07AAABSlBMVEUAAAD/VQD/VVX/QED/KgD/Kir/VSr/VVX/f1X/TTPoRi7/Ri7tNyTtWzf5STH5Tzf5VTf5Wz3/STH/VTf/W0P4TDT4Uzn4Uzv4XD/7TDT7XD/4Kxz6Qi76Qy77Y0f7ZUf9fFn4Khz4Qy76ZEb7e1j7fVj6UTn6Tzf6Vjz6Vz76UDn6VTz6WT/5Tjb5Ujn5VDz7Tjb7Wj/4LB35QC35Qy/7Zkj8e1j8fFn4LB35Kxz5QC35Qy/7Y0b7Zkn8fFn8fVr4Kx34LB34LB74LR/4Lh/4LyD4MCH4MSL4MyL4NCP5NST5NiX5OCb5OSf5Oij5PCn5PSr5Pyv5QC35Qi76Tzf6UTn6Ujr6VDv6Vjz6Vz77ZUf7Zkj7aEr7aUv7a0z7bE37bk77b0/7cFD7clH7c1L8dFP8dVT8dlX8eFX8eVb8elf8e1j8fFj8fFlFVbOBAAAAQHRSTlMAAwMEBgYGBgYKCwsODioqKioqKip1dXV1dXWQkJCQkJCRkZGRkaChoaGiouLj4+Pj4+7u7u7u7u/v7+/v7+/vJ9rf/wAAANxJREFUOMtjYMALmJkZKAGcnBRpZ2OjSDu/AEXaxcQp0c2tp8+NXwWLtJGTs4urm7uHp5e3j6+ff0CgsQwrVFItLFwDymSXN42JjYtPSExKTklNS8/IzMo2U+BgkHZwRNceFCwL1sGlHhoWHqHJBebIRUWja8/JVWCwxKbdmpGTlU9UNwSkPVJHQpCNk8kGm3Z77NpNGHlYhSQNINoNpUTYeLFrN2dQxKZdCRJwyI5XxqZdFRh0FujarZRgQacVFq4NDzpbdO12KhyURhwtkw0Dv/BAZhkKMyyh4gIA26VeW8woj3cAAAAASUVORK5CYII="},activeStyle:{type:Object,default:()=>({})},inactiveStyle:{type:Object,default:()=>({})},scrollable:{type:Boolean,default:!1},lineWidth:{type:String,default:"60rpx"},lineHeight:{type:String,default:"18rpx"}},emits:["changeTab","update:modelValue"],setup(o,{emit:r}){const c={color:"#D62B2B",fontWeight:"bold",transform:"scale(1.05)",fontSize:"32rpx"},u={color:"#999",fontSize:"32rpx"},d={paddingLeft:"15rpx",paddingRight:"15rpx",height:"88rpx"},p=o;let m=e(p.modelValue);const g=r,f=t((()=>({...c,...p.activeStyle}))),v=t((()=>({...u,...p.inactiveStyle}))),h=t((()=>({...d,...p.itemStyle})));function x({index:e,name:t}){m.value=e,g("update:modelValue",e),g("changeTab",{index:e,item:p.tabItems[e]})}return a((()=>p.modelValue),(e=>{m.value=e})),(e,t)=>{const a=l("up-tabs");return s(),i(a,{list:o.tabItems,lineWidth:o.lineWidth,lineHeight:o.lineHeight,lineColor:o.lineBg.includes("base64")?`url(${o.lineBg}) 100% 100%`:o.lineBg,activeStyle:n(f),inactiveStyle:n(v),itemStyle:n(h),scrollable:o.scrollable,current:n(m),lineBgSize:"100% 110%",onChange:x},null,8,["list","lineWidth","lineHeight","lineColor","activeStyle","inactiveStyle","itemStyle","scrollable","current"])}}},re=o({__name:"CxSwiperUni",props:{list:{type:Array,default:()=>[]},swiperHeight:{type:String,default:"300rpx"},config:{type:Object,default:()=>({})}},emits:["change"],setup(a,{emit:l}){const o={indicatorDots:!0,autoplay:!1,interval:3e3,duration:500,vertical:!1,circular:!0},S=a,z=l,T=t((()=>({...o,...S.config}))),k=e([]);r((()=>{k.value=S.list.map(((e,t)=>"video"===e.type?c(`video-${t}`):null))}));const j=e=>{V();const t=e.detail.current,a=S.list[t];z("change",{index:t,item:a})},L=e=>{k.value.forEach(((t,a)=>{t&&a!==e&&t.pause()}))},V=()=>{k.value.forEach((e=>{e&&e.pause()}))};return(e,t)=>{const l=_,o=C,r=w,c=A,S=b;return s(),i(S,{class:"cx-swiper-uni",style:y({"--swiper-height":a.swiperHeight}),circular:n(T).circular,"indicator-dots":n(T).indicatorDots,"indicator-active-color":n(T).indicatorActiveColor,"active-class":n(T).activeClass,autoplay:n(T).autoplay,interval:n(T).interval,duration:n(T).duration,vertical:n(T).vertical,onChange:j},{default:u((()=>[(s(!0),d(p,null,m(a.list,((t,a)=>(s(),i(c,{key:a},{default:u((()=>["text"===t.type?g(e.$slots,"text",{key:0,item:t,index:a},(()=>[f(l,{class:"swiper-text"},{default:u((()=>[v(h(t.text),1)])),_:2},1024)]),!0):"image"===t.type?g(e.$slots,"image",{key:1,item:t,index:a},(()=>[f(o,{class:"swiper-image",src:t.src,mode:"aspectFill"},null,8,["src"])]),!0):"video"===t.type?g(e.$slots,"video",{key:2,item:t,index:a,play:()=>L(a)},(()=>[f(r,{class:"swiper-video",id:`video-${a}`,src:t.src,poster:t.poster,controls:"",onPlay:e=>L(a)},null,8,["id","src","poster","onPlay"])]),!0):x("",!0)])),_:2},1024)))),128))])),_:3},8,["style","circular","indicator-dots","indicator-active-color","active-class","autoplay","interval","duration","vertical"])}}},[["__scopeId","data-v-a7be43c6"]]),ce=o({__name:"CustomBarGz",setup(t){const a=[{path:"/pages/index",text:"首页",icon:"/static/images/index_gray_icon.png",activeIcon:"/static/images/index_active_icon.png"},{path:"/pages/gz/collectibles/index",text:"藏品",icon:"/static/images/order_gray_icon.png",activeIcon:"/static/images/order_active_icon.png"},{path:"/pages/gz/income/index",text:"资产",icon:"/static/images/income_gray_icon.png",activeIcon:"/static/images/income_active_icon.png"},{path:"/pages/gz/my/index",text:"我的",icon:"/static/images/my_gray_icon.png",activeIcon:"/static/images/my_active_icon.png"}],l=e("");return S((()=>{const e=z();l.value="/"+e[e.length-1].route})),(e,t)=>{const o=C,r=j,c=_;return s(),i(c,{class:"tab-bar"},{default:u((()=>[(s(),d(p,null,m(a,(e=>f(c,{key:e.path,class:T(["tab-item",{active:n(l)===e.path}]),onClick:t=>{var a;(a=e.path)!==l.value&&k({url:a})}},{default:u((()=>[f(o,{class:"icon",src:n(l)===e.path?e.activeIcon:e.icon},null,8,["src"]),f(r,null,{default:u((()=>[v(h(e.text),1)])),_:2},1024)])),_:2},1032,["class","onClick"]))),64))])),_:1})}}},[["__scopeId","data-v-efa5432f"]]),ue=o({__name:"Search",emits:["close"],setup(t,{emit:o}){let c=e("");const g=o;e(null);let y=e(!1);e(10);let C=e(!1);const w=e([]);e(3);const A=e([]),b=e(!1),S=e(!1),z=e(1),T=e(10),k=e(!1),N=e("loadmore"),H=e("flower"),G=async(e=!1)=>{if((!b.value||e)&&(!S.value||e)&&(!k.value||e)){e?(z.value=1,k.value=!1,S.value=!0,N.value="loading"):(b.value=!0,N.value="loading");try{const t=await O({page_no:z.value,page_size:T.value,keyword:c.value}),a=200===t.code&&t.data.lists||[];a.length<T.value?(k.value=!0,N.value="nomore"):N.value="loadmore",e?(A.value=a,U()):A.value=[...A.value,...a],z.value++}catch(t){N.value="loadmore",console.error("数据加载失败:",t),F({title:"加载失败",icon:"none"})}finally{b.value=!1,S.value=!1}}},P=()=>{S.value||G(!0)},Q=()=>{b.value||k.value||G()},E=e=>{I({url:`/pages/xn/collection-detail/index?id=${e.id}`})},Z=e=>{1==e.rush_status?I({url:`/pages/xn/my/deposit?id=${e.id}`}):F({title:"等级不足，无法抢单",icon:"none"})},J=async()=>{try{const e=await M({type:2});200===e.code?(w.value=[],C.value=!1,F({title:"搜索历史已清空",icon:"success"})):F({title:e.msg||"清空失败",icon:"none"})}catch(e){console.error("清空历史失败",e),F({title:"请求异常",icon:"none"})}},W=()=>{C.value=!0},Y=()=>{g("close")},q=e=>{c.value||e?G(!0).then((()=>{le()})):F({title:"请输入搜索内容",icon:"none"})};a(c,(e=>{e&&console.log("搜索",e)}));const le=async()=>{try{const e=await K();if(200===e.code){const t=e.data||[];w.value=Array.isArray(t)?t:t.lists||[]}}catch(e){console.error("获取搜索历史失败",e)}};return r((()=>{le(),L((()=>{y.value=!0}))})),(e,t)=>{const a=V(X("CxSearch"),$),o=_,r=l("up-col"),g=j,y=l("up-row"),b=V(X("u-icon"),R),z=V(X("u-tag"),D),T=V(X("XnOrdersOrderCard"),ee),k=V(X("BaseProductList"),te),L=V(X("CxModal"),ae);return s(),d(p,null,[f(o,{class:"search-wrap search"},{default:u((()=>[f(o,{class:"search-bar-wrap"},{default:u((()=>[f(y,{customStyle:"margin-bottom: 10px"},{default:u((()=>[f(r,{span:"10"},{default:u((()=>[f(o,{class:"search-bar"},{default:u((()=>[f(a,{modelValue:n(c),"onUpdate:modelValue":t[0]||(t[0]=e=>B(c)?c.value=e:c=e),placeholder:"输入搜索内容",showAction:"","action-text":"搜索",onSearch:q,onCustom:q},null,8,["modelValue"])])),_:1})])),_:1}),f(r,{span:"2"},{default:u((()=>[f(o,{class:"bell-pic"},{default:u((()=>[f(g,{class:"cancel-text",onClick:Y},{default:u((()=>[v("取消")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(w).length?(s(),i(o,{key:0,class:"history-search-container"},{default:u((()=>[n(c)?x("",!0):(s(),d(p,{key:0},[f(o,{class:"header"},{default:u((()=>[f(g,{class:"title"},{default:u((()=>[v("历史搜索")])),_:1}),f(b,{name:"trash",size:"20",color:"rgba(225, 210, 211, 1)",onClick:W})])),_:1}),f(o,{class:"tags-container"},{default:u((()=>[(s(!0),d(p,null,m(n(w),((e,t)=>(s(),i(z,{key:t,text:e,shape:"circle",borderColor:"rgba(245, 234, 201, .6)",color:"#F5EAC9",plain:"",style:{margin:"8rpx",padding:"1rpx 4rpx"},onClick:t=>{return a=e,c.value=a,void G(!0);var a}},null,8,["text","onClick"])))),128))])),_:1})],64))])),_:1})):x("",!0),f(o,{class:"search-result"},{default:u((()=>[f(g,{class:"search-result-text"},{default:u((()=>[v("共个"+h(n(A).length)+"搜索结果",1)])),_:1}),f(k,{onOnScrollToLower:Q,onOnRefresh:P,isRefreshing:n(S),loadStatus:n(N),iconType:n(H),enableRefresh:!1,enableLoadMore:!0},{scrollContain:u((()=>[(s(!0),d(p,null,m(n(A),((e,t)=>(s(),i(T,{item:e,onGrabOrderClick:Z,onHandleItemClick:E},null,8,["item"])))),256))])),_:1},8,["isRefreshing","loadStatus","iconType"])])),_:1})])),_:1}),f(L,{show:n(C),"onUpdate:show":t[1]||(t[1]=e=>B(C)?C.value=e:C=e),content:"确定要清空历史搜索吗？",onConfirm:J},null,8,["show"])],64)}}},[["__scopeId","data-v-caa273a1"]]),de=o({__name:"Xn",emits:["showSearch"],setup(t,{emit:a}){let o=e();const c=[{src:"/static/images/index/order-management.png",title:"订单管理",funtionText:"管理",path:"/pages/xn/orders/order-management"},{src:"/static/images/index/work-management.png",title:"作品管理",funtionText:"管理",path:"/pages/xn/my/work-management"},{src:"/static/images/index/order-management.png",title:"订单管理",funtionText:"管理"},{src:"/static/images/index/work-management.png",title:"作品管理",funtionText:"管理"}],g=e([]),x=a;e(3);let y=e({});const w=e([]),A=e(!1),b=e(!1),S=e(1),z=e(10),T=e(!1),k=e("loadmore"),L=e("flower");let D=e(0),B=e({});const M=async(e=!1)=>{if((!A.value||e)&&(!b.value||e)&&(!T.value||e)){e?(S.value=1,T.value=!1,b.value=!0,k.value="loading"):(A.value=!0,k.value="loading");try{const t=await O({page_no:S.value,page_size:z.value}),a=200===t.code&&t.data.lists||[];a.length<z.value?(T.value=!0,k.value="nomore"):k.value="loadmore",e?(w.value=a,U()):w.value=[...w.value,...a],S.value++}catch(t){k.value="loadmore",console.error("数据加载失败:",t),F({title:"加载失败",icon:"none"})}finally{A.value=!1,b.value=!1}}},K=()=>{b.value||M(!0)},G=()=>{A.value||T.value||M()},P=e=>{I({url:`/pages/xn/collection-detail/index?id=${e.id}`})},Q=async e=>{await(async e=>{if(!e)return void F({title:"订单ID不能为空",icon:"none"});const{code:t,msg:a,data:l={}}=await H({id:e});200==t?(F({title:"订单创建成功",icon:"success"}),y.value=l.lists||{},y.value.id=e,setTimeout((()=>{I({url:`/pages/xn/my/deposit?id=${e}`,success:e=>{e.eventChannel.emit("sendMarginDatas",{marginResultData:y.value})},fail:e=>{console.error("跳转失败",e)}})}),1500)):F({title:a||"订单创建失败",icon:"none"})})(e.id)};r((()=>{M(),(async()=>{try{const e=await N(),t=200===e.code&&e.data.lists||[];if(t.length>0){let e=[];t.forEach((t=>{e.push({...t,type:"text",text:t.title})})),g.value=e}}catch(e){console.error("公告数据加载失败:",e)}})()}));const E=()=>{x("showSearch")},Z=({index:e,item:t})=>{console.log("藏品列表点击",e,t)},J=({index:e,item:t})=>{D.value=e||0,B.value=t||{}};return(e,t)=>{const a=l("up-image"),r=l("up-col"),x=V(X("CxSwiperUni"),re),y=_,A=l("up-row"),S=C,z=l("up-icon"),T=j,D=l("up-button"),B=V(X("CxScrollView"),le),F=V(X("u-icon"),R),M=V(X("XnOrdersOrderCard"),ee),O=V(X("BaseProductList"),te),U=V(X("CommonTitleList"),se);return s(),d(p,null,[f(y,{class:"announcement"},{default:u((()=>[f(A,{customStyle:"margin-bottom: 10px"},{default:u((()=>[f(r,{span:"1"},{default:u((()=>[f(a,{"show-loading":!0,src:"/static/images/index/volume.png",width:"50rpx",height:"50rpx"})])),_:1}),f(r,{span:"10"},{default:u((()=>[f(x,{list:n(g),swiperHeight:"36rpx",config:{indicatorDots:!1,autoplay:!0,vertical:!0},onChange:J},null,8,["list"])])),_:1}),f(r,{span:"1"},{default:u((()=>[f(y,{class:"arrow-icon"})])),_:1})])),_:1})])),_:1}),f(y,{class:"collection-list"},{default:u((()=>[f(y,{class:"collection-content"},{default:u((()=>[f(B,{class:"list",ref_key:"cxScrollViewRef",ref:o,list:c,config:{direction:"x",visibleCount:2,gap:"10rpx"},onClick:Z},{item:u((({item:e})=>[f(y,{class:"manage-shortcut-entrance"},{default:u((()=>[f(S,{class:"shortcut-entrance-img",mode:"widthFix",src:e.src},null,8,["src"]),f(y,{class:"manage-shortcut-content"},{default:u((()=>[f(y,{class:"manage-shortcut-title"},{default:u((()=>[v(h(e.title),1)])),_:2},1024),f(y,{class:"manage-shortcut-links"},{default:u((()=>[f(D,{shape:"circle",color:"#1F5994",customStyle:{width:"auto",display:"inline-block",padding:"0rpx 22rpx",fontSize:"24rpx",height:"auto"},onClick:t=>(e=>{console.warn("跳转地址",e.path),I({url:e.path})})(e)},{default:u((()=>[f(T,null,{default:u((()=>[v(h(e.funtionText)+" ",1),f(z,{name:"arrow-right",size:"24rpx",color:"#A0BAD2",class:"shortcut-icon"})])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:1},512)])),_:1})])),_:1}),f(y,{class:"order-list-wrap"},{default:u((()=>[f(U,{title:"订单列表"},{more:u((()=>[f(y,{class:"bell-pic",onClick:E},{default:u((()=>[f(F,{name:"/static/images/orders/filter.png",size:"42rpx"})])),_:1})])),default:u((()=>[f(y,{class:"index-order-list"},{default:u((()=>[f(O,{onOnScrollToLower:G,onOnRefresh:K,isRefreshing:n(b),loadStatus:n(k),iconType:n(L),enableRefresh:!1,enableLoadMore:!0},{scrollContain:u((()=>[(s(!0),d(p,null,m(n(w),((e,t)=>(s(),i(M,{item:e,onGrabOrderClick:Q,onHandleItemClick:P},null,8,["item"])))),256))])),_:1},8,["isRefreshing","loadStatus","iconType"])])),_:1})])),_:1})])),_:1})],64)}}},[["__scopeId","data-v-fbb8f061"]]),pe=o({__name:"Gz",emits:["itemClick"],setup(t,{emit:a}){const{proxy:l}=G(),i=e(!1),o=e([]),c=e("loadmore"),m=e("flower");let g=1,x=!0,y=!1;const w=[{src:"/static/images/index/swiper-1.png",text:"我的藏品",path:"/pages/gz/nft/nft-collections"},{src:"/static/images/index/swiper-2.png",text:"NFT",path:"/pages/gz/nft/index"},{src:"/static/images/index/swiper-3.png",text:"RWA",path:"/pages/gz/rwa/index"},{src:"/static/images/index/swiper-2.png",text:"社区",path:"/pages/gz/community/index"},{src:"/static/images/index/swiper-1.png",text:"您的第二期收益已到账”“NFT藏品XXX价格上涨10%2"},{src:"/static/images/index/swiper-3.png",text:"您的第三期收益已到账”“NFT藏品XXX价格上涨10%3 您的第二期收益已到账”“NFT藏品XXX价格上涨10%"},{src:"/static/images/index/swiper-1.png",text:"您的第四期收益已到账”“NFT藏品XXX价格上涨10%4"}],A=[{src:"/static/images/index/community.png",title:"社区",funtionText:"管理",path:"/pages/gz/community/index"},{src:"/static/images/index/activities.png",title:"活动",funtionText:"管理",path:"/pages/my/work-management"},{src:"/static/images/index/community.png",title:"订单管理",funtionText:"管理",path:"/pages/orders/index"},{src:"/static/images/index/activities.png",title:"作品管理",funtionText:"管理",path:"/pages/my/work-management"}],b=({index:e,item:t})=>{console.log("活动 社区",e,t),I({url:t.path})},S=async e=>{if(e){if(y)return;i.value=!0,g=1,x=!0}if(x&&!y){y=!0,c.value="loading";try{const t=await T(g,10);t&&Array.isArray(t.list)?(o.value=e?t.list:[...o.value,...t.list],g++,x=t.hasMore??!1,c.value=x?"loadmore":"nomore"):(e&&(o.value=[]),c.value="nomore")}catch(t){e||(c.value="loadmore"),console.error("加载失败:",t)}finally{y=!1,i.value=!1}}},z=({index:e,item:t})=>{I({url:`/pages/my/login?title=${t.title}&index=${e}`})},T=async(e,t)=>{await new Promise((e=>setTimeout(e,800)));return{list:Array.from({length:t},((a,l)=>({id:(e-1)*t+l+1,image:`https://picsum.photos/seed/${Math.random()}/120/80`,artist:"李柳柳",title:"东方美学 | 绣春花",price:666.66}))),hasMore:e<3}},k=()=>{S(!0)},j=()=>{x&&!y&&S()};return r((()=>{S(!0)})),(e,t)=>{const a=C,r=_,g=V(X("CxScrollView"),le),x=V(X("CommonProductCol"),ie),y=V(X("BaseProductList"),te),S=V(X("CommonTitleList"),se);return s(),d(p,null,[f(r,{class:"index-nft"},{default:u((()=>[f(g,{class:"list",ref:"cxScrollViewRef",list:w,config:{direction:"x",visibleCount:4}},{item:u((({item:e})=>[f(r,{class:"item-content",onClick:t=>(e=>{l.$u.toast(`${e.text}`),I({url:e.path})})(e)},{default:u((()=>[f(a,{class:"nft-img",mode:"aspectFill",src:e.src},null,8,["src"]),f(r,{class:"nft-des up-text-ellipsis"},{default:u((()=>[v(h(e.text),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:1},512)])),_:1}),f(r,{class:"collection-content"},{default:u((()=>[f(g,{class:"list",ref:"cxScrollViewRef",list:A,config:{direction:"x",visibleCount:2,gap:"10rpx"},onClick:b},{item:u((({item:e})=>[f(r,{class:"manage-shortcut-entrance"},{default:u((()=>[f(a,{class:"shortcut-entrance-img",mode:"widthFix",src:e.src},null,8,["src"]),f(r,{class:"manage-shortcut-content"},{default:u((()=>[f(r,{class:"manage-shortcut-title"},{default:u((()=>[v(h(e.title),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:1},512)])),_:1}),f(r,{class:"recommend-product"},{default:u((()=>[f(S,{title:"推荐藏品",moreUrl:"/pages/my/login"},{default:u((()=>[f(r,{class:"recommend-content"},{default:u((()=>[f(y,{onOnScrollToLower:j,onOnRefresh:k,isRefreshing:n(i),loadStatus:n(c),iconType:n(m),enableRefresh:!0},{scrollContain:u((()=>[f(x,{colNum:2,productList:n(o),onClick:z},null,8,["productList"])])),_:1},8,["isRefreshing","loadStatus","iconType"])])),_:1})])),_:1})])),_:1})],64)}}},[["__scopeId","data-v-2717661d"]]),me=o({__name:"index",setup(a){var o,c;P((e=>({a16c6fcc:g})));const{proxy:m}=G(),g=m.$safeAreaInfo.top+"rpx",v={IndexXn:de,IndexGz:pe},h=e([]),C=Q();let w=e(1);e(0),e("1200");let A=e(0),b=e(!1),z=e([]);const T=e("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAASCAMAAAA0cZ07AAAA9lBMVEUAAAD//6r//7//1Kr//6r//9T/5rPo0aLo0bno6KLo6Lnt26Tt27bz26rz4bDz4bbz57z03q704LP047nz2J7z3Kb02J703Kj05r/25sH26srz153z3Kf05b706sj04bH04bH04rX04rb04LL047X147j03q/04K/04bP04bT047fz157z26bz3Kf05sH06sjz2J7z2Z7z26Xz3Kj05sH06sn15r/z2J7z2J/z2aDz2aHz2qLz2qPz2qTz26Xz26bz3Kf04LD04LH04bL04bT04rX04rb15sD158H158L158P16MT16MX16cX16cb16cf16sj16smb3zkwAAAAN3RSTlMAAwQGBgYKCwsLCw4OKioqKnV1dZCQkJCQkJCRkZGRoKGhoaKi4uPj4+Pj7u7u7u7v7+/v7+/vMgiCywAAAM5JREFUOMtjYMALmJgYKAFsbBRpZ2amSDs/P0XahYQo0c2poclFwHci2uZQYGFpaWVtY2unIwrzsbyziyKUySqp5+nl7ePr5x8QEAgB+lKsDCLm5uja7R3EwTrYFZycXVyVOMAcCXcPdO2BgVIMhti0GzOyMfMKqjmCtLupCvOzsDGaYdNuil27LiM3M5+gOkS7lrAAKw927foM0ti0y2A6XhabdjkGZjEDdO1GMrCgU3Z2UYEHnQm6dlM5VkojjpbJhtJES2GWoTDDEiouANDFSl0mbzP2AAAAAElFTkSuQmCC"),k=e({color:"#FFF"}),j=e({color:"#CCBCBC"}),L=e([{name:"公众端",rolse:"IndexGz"},{name:"绣娘端",rolse:"IndexXn"}]);let R=(null==(o=C.userInfoXn)?void 0:o.token)||E("tokenXn"),D=(null==(c=C.userInfoGz)?void 0:c.token)||E("tokenGz"),B=e(!1);const F=e(!1),M=()=>{I({url:"/pages/xn/my/system-notification",success:e=>{e.eventChannel.emit("sendMessageDatas",{messageListsData:z.value})}})},K=()=>{B.value=!1},O=()=>{B.value=!0},U=t((()=>v[L.value[A.value].rolse])),N=({index:e,item:t})=>{A.value=e},H=({index:e,item:t})=>{w.value=e};return r((()=>{(async()=>{var e,t;try{const a=await Y();200===a.code&&a.data.lists&&(h.value=null==(t=null==(e=null==a?void 0:a.data)?void 0:e.lists)?void 0:t.map((e=>({...e,type:"image",src:e.image,name:e.name||"",id:e.id}))))}catch(a){console.error("获取Banner失败",a)}})(),(async()=>{var e,t,a;try{const l=await ne();if(200===l.code&&(null==(e=null==l?void 0:l.data)?void 0:e.lists)){z.value=(null==(t=null==l?void 0:l.data)?void 0:t.lists)||[];const e=null==(a=null==l?void 0:l.data)?void 0:a.lists.filter((e=>1!=e.is_read));b.value=e.length>0}else b.value=!1}catch(l){console.error("获取消息列表失败",l),b.value=!1}})()})),Z((()=>{})),S((()=>{var e,t;R=(null==(e=m.$globalUserInfoXn)?void 0:e.token)||E("tokenXn"),D=(null==(t=m.$globalUserInfoGz)?void 0:t.token)||E("tokenGz");const a=C.currentRole||E("currentRole");D||R?("XN"===a?(A.value=1,F.value=!1):"gz"===a?(A.value=0,F.value=!1):(A.value=R?1:0,F.value=!0),1!==A.value||R?0!==A.value||D||(A.value=1):A.value=0):J({url:"/pages/my/login"})})),(e,t)=>{const a=_,o=V(X("BaseRolseTabs"),oe),r=l("up-col"),c=V(X("CxSearch"),$),m=l("up-icon"),g=l("up-badge"),v=l("up-row"),w=V(X("CxSwiperUni"),re),A=V(X("LayoutCustomBarXn"),q),S=V(X("LayoutCustomBarGz"),ce),z=V(X("XnIndexSearch"),ue),R=l("up-popup");return s(),d(p,null,[f(a,{class:"page-wrap index"},{default:u((()=>[f(a,{style:y({paddingTop:e.$safeAreaInfo.top+"rpx"})},null,8,["style"]),f(a,{class:"page-content"},{default:u((()=>[f(v,{customStyle:"margin-bottom: 10px"},{default:u((()=>[n(F)?(s(),i(r,{key:0,span:n(F)?5:0},{default:u((()=>[f(a,{class:"tabs-wrap"},{default:u((()=>[f(o,{tabItems:n(L),lineBg:n(T),activeStyle:n(k),inactiveStyle:n(j),onChangeTab:N},null,8,["tabItems","lineBg","activeStyle","inactiveStyle"])])),_:1})])),_:1},8,["span"])):x("",!0),f(r,{span:n(F)?5:10},{default:u((()=>[f(a,{class:"search-bar"},{default:u((()=>[f(c,{placeholder:"输入搜索内容",onFocus:O})])),_:1})])),_:1},8,["span"]),f(r,{span:"2"},{default:u((()=>[f(a,{class:"bell-pic"},{default:u((()=>[f(a,{class:"icon-wrapper",onClick:M},{default:u((()=>[f(m,{size:"58rpx",color:"#fff",name:"bell"}),f(g,{isDot:n(b),class:"badge-dot"},null,8,["isDot"])])),_:1})])),_:1})])),_:1})])),_:1}),f(a,{class:"banner-swiper"},{default:u((()=>[f(w,{list:n(h),swiperHeight:"280rpx",config:{autoplay:!0,indicatorActiveColor:"rgba(255,255,255,.6)"},onChange:H},null,8,["list","config"])])),_:1}),(s(),i(W,null,[(s(),i(X(n(U)),{onShowSearch:O},null,32))],1024))])),_:1}),"XN"==n(C).currentRole?(s(),i(A,{key:0})):(s(),i(S,{key:1}))])),_:1}),(s(),i(W,null,[f(R,{show:n(B),bgColor:"#691e23",mode:"right",duration:100,safeAreaInsetTop:"",customStyle:"width: 750rpx;"},{default:u((()=>[f(z,{onClose:K})])),_:1},8,["show"])],1024))],64)}}},[["__scopeId","data-v-7dc80fad"]]);export{me as default};
