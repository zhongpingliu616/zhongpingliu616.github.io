import{_ as a}from"./Navigation.nOf0Yq_M.js";import{_ as t,r as e,d as s,x as l,a7 as o,J as i,C as c,a8 as r,D as n,a9 as u,aa as d,E as p,ab as f,ac as g,o as _,g as m,j as x,f as y,k as h,t as b,u as v,n as w,y as F,b as k,l as C,F as I,ad as D,I as N,A as z,m as T,R as j,c as S,a6 as G,a as $,Q as A,ae as H,X as L,af as R,H as E}from"./index-vfEMzM-K.js";import{_ as M}from"./CxTag.C--koTks.js";import{_ as W}from"./production-details.j0Db-YC7.js";const q=t({__name:"NftDetail",props:{collectionImage:{type:String,default:""},id:{type:[String,Number],default:""}},emits:["update:collectionImage"],setup(a,{emit:t}){e(!0);let j=e({});const S=t;let G=e(a.id);s((()=>{var a;if(!G.value){const t=l(),e=t[t.length-1],s=e.options||(null==(a=e.$page)?void 0:a.options)||{};G.value=s.id}G.value&&$()}));const $=async()=>{try{const a=await o({id:G.value});200===a.code?(j.value=(null==a?void 0:a.data.list)||{},S("update:collectionImage",j.value.image||"")):i({title:a.msg||"获取详情失败",icon:"none"})}catch(a){console.error("获取详情异常",a)}},A=async()=>{try{const a=await D({id:j.value.id,type:1==j.value.collect_status?2:1});200===a.code?(j.value.collect_status=1==j.value.collect_status?2:1,i({title:1==j.value.collect_status?"收藏成功":"已取消收藏",icon:"success"})):i({title:a.msg||"操作失败",icon:"none"})}catch(a){console.error("收藏操作异常",a),i({title:"操作失败",icon:"none"})}},H=()=>{console.log("客服")},L=()=>{1!=j.value.rush_status&&N({url:`/pages/xn/my/deposit?id=${j.value.id}`})},R=()=>{if(1==j.value.rush_status)return N({url:`/pages/xn/my/deposit?id=${j.value.id}`}),void i({title:"请支付押金后抢单",icon:"success"})},E=a=>{console.log("点击了正品保障",a)};return(a,t)=>{const e=z,s=c(n("u-col"),r),l=c(n("u-row"),u),o=T,i=c(n("CxTag"),M),D=c(n("u-card"),d),N=c(n("u-icon"),p),S=c(n("u-cell"),f),G=c(n("u-image"),g);return _(),m(I,null,[x(o,{class:"sold-info"},{default:y((()=>[x(D,{"border-radius":16,padding:20,"show-head":!1},{body:y((()=>[x(l,{justify:"space-between",class:"price-section"},{default:y((()=>[x(s,{span:"8"},{default:y((()=>[x(e,{class:"current-price"},{default:y((()=>[h("¥"+b(v(j).money),1)])),_:1}),x(e,{class:"original-price"},{default:y((()=>[h("¥"+b(v(j).new_money),1)])),_:1})])),_:1}),x(s,{span:"4",textAlign:"right"},{default:y((()=>[x(e,{class:"sales-info"},{default:y((()=>[h("已售"+b(v(j).total_sales)+"件",1)])),_:1})])),_:1})])),_:1}),x(o,{class:"title"},{default:y((()=>[h(b(v(j).name),1)])),_:1}),x(o,{class:"status-tags"},{default:y((()=>[x(i,{text:v(j).period||"",bgGradient:["rgba(248,163,29,0.1)","rgba(248,163,29,0.1)"]},null,8,["text","bgGradient"]),h("  "),x(i,{text:v(j).difficulty||"",bgGradient:["rgba(248,163,29,0.1)","rgba(248,163,29,0.1)"]},null,8,["text","bgGradient"])])),_:1})])),_:1})])),_:1}),x(o,{class:"commodity-welfare"},{default:y((()=>[x(o,{class:"cell-wrapper"},{default:y((()=>[x(S,{title:"正品保证",name:"正品保证",class:"welfare-item",border:!1,"custom-style":{padding:"16rpx 32rpx"},"title-style":{fontSize:"28rpx",fontWeight:500},onClick:E},{"right-icon":y((()=>[x(N,{name:"arrow-right",color:"#666",size:"36rpx"})])),_:1})])),_:1}),x(o,{class:"cell-wrapper"},{default:y((()=>[x(S,{title:"7天无理由退货",name:"7天无理由退货",class:"welfare-item",border:!1,"custom-style":{padding:"16rpx 32rpx"},"title-style":{fontSize:"28rpx",fontWeight:500},onClick:E},{"right-icon":y((()=>[x(N,{name:"arrow-right",color:"#666",size:"36rpx"})])),_:1})])),_:1})])),_:1}),x(o,{class:"creative-process"},{default:y((()=>[x(o,{class:"chain-title"},{default:y((()=>[x(G,{src:W,width:"30rpx",height:"30rpx",mode:"widthFix",radius:"50%"}),h("   制作详情 ")])),_:1}),x(D,{border:!1,"show-head":!1,padding:20,"border-radius":16,"custom-style":{background:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",border:"2px solid #FFE185"}},{body:y((()=>[x(o,{class:"content-text",innerHTML:v(j).details},null,8,["innerHTML"])])),_:1},8,["custom-style"])])),_:1}),x(o,{class:"footer-bar"},{default:y((()=>[x(o,{class:"left-actions"},{default:y((()=>[x(o,{class:"action-item",onClick:A},{default:y((()=>[x(N,{name:"star",size:"60rpx",color:1==v(j).collect_status?"#FFD700":"#FFFFFF"},null,8,["color"]),x(e,{class:"action-text collect",style:w({color:1==v(j).collect_status?"#FFD700":"#FFFFFF"})},{default:y((()=>[h(b(1==v(j).collect_status?"已收藏":"收藏"),1)])),_:1},8,["style"])])),_:1}),x(o,{class:"action-item",onClick:H},{default:y((()=>[x(N,{name:"kefu-ermai",size:"60rpx",color:"#FFD700"}),x(e,{class:"action-text service"},{default:y((()=>[h("客服")])),_:1})])),_:1})])),_:1}),x(o,{class:"right-buttons"},{default:y((()=>[x(o,{class:F(["gradient-btn-item shopping-cart",{"authen-gray":1==v(j).rush_status}]),onClick:L},{default:y((()=>[x(o,{class:"gradient-button"}),x(o,{class:"button-inner"},{default:y((()=>[h(" 支付押金 "),1!=v(j).rush_status?(_(),k(o,{key:0,class:"update-tip"},{default:y((()=>[h(" 需要升等级 ")])),_:1})):C("",!0)])),_:1})])),_:1},8,["class"]),x(o,{class:F(["gradient-btn-item buy-now",{"authen-gray":1!=v(j).rush_status}]),onClick:R},{default:y((()=>[x(o,{class:"gradient-button"}),x(o,{class:"button-inner"},{default:y((()=>[h(" 一键抢单 ")])),_:1})])),_:1},8,["class"])])),_:1})])),_:1})],64)}}},[["__scopeId","data-v-65ae30b0"]]),J=t({__name:"index",setup(t){j((a=>({"2f8597fa":l})));const{proxy:s}=A(),l=s.$safeAreaInfo.top+80+"rpx";let o=e("作品详情"),i=e(""),r=e("NftDetail"),u=e(null);const d={NftDetail:q},p=S((()=>d[r.value])),f=()=>{};return G((({id:a,workType:t})=>{u.value=a})),(t,e)=>{const s=$("up-icon"),l=c(n("LayoutNavigation"),a),d=$("up-image"),g=T;return _(),k(g,{class:"page-wrap collection-detail",style:w({gridTemplateRows:"NftDetail"==v(r)&&"80rpx 1fr 120rpx"})},{default:y((()=>[x(l,{title:v(o)},H({_:2},["NftDetail"==v(r)?{name:"right",fn:y((()=>[x(s,{name:"share-square",size:"48rpx",color:"#fff",onClick:f})])),key:"0"}:void 0]),1032,["title"]),x(g,{class:"page-content"},{default:y((()=>[x(g,{class:"current-works"},{default:y((()=>[x(d,{class:"works-image",width:"680rpx",height:"700rpx",src:v(i)},null,8,["src"])])),_:1}),x(g,{class:"xiuniang-information"},{default:y((()=>[(_(),k(L,null,[(_(),k(n(v(p)),R({id:v(u)},{collectionImage:v(i),"onUpdate:collectionImage":e[0]||(e[0]=a=>E(i)?i.value=a:i=a)}),null,16,["collectionImage"]))],1024))])),_:1})])),_:1}),x(g)])),_:1},8,["style"])}}},[["__scopeId","data-v-44d0ce7d"]]);export{J as default};
