import{_ as a,r as l,c as s,ai as e,x as t,y as c,b as u,f as o,z as d,m as i,o as r,j as n,u as f,k as _,t as m,g as p,h as v,F as g,l as b,a8 as w,D as y,aq as k,C as h,aT as C,an as x,ap as z,I as F,E as j,p as I}from"./index-E36eYFUz.js";import{_ as U}from"./Navigation.fXnM5b3z.js";import{_ as $}from"./CxModal.B62FgOA2.js";import"./CxComfirmBtn.D_Y-qTM9.js";const M=a({__name:"detail",setup(a){const M=l(null),N=l(!1),T=l(!1),q=l(!1),A={10:{title:"待付款",icon:"clock-fill",desc:"剩23小时59分自动关闭"},20:{title:"待发货",icon:"car",desc:"商家正在备货中"},50:{title:"待收货",icon:"car",desc:"商品正在飞速向您奔来"},70:{title:"交易成功",icon:"checkmark-circle-fill",desc:"期待您的再次光临"},90:{title:"退款/售后",icon:"close-circle-fill",desc:"退款成功"}},B=s((()=>{var a;return M.value?null==(a=A[M.value.status])?void 0:a.title:""})),D=s((()=>{var a;return M.value?null==(a=A[M.value.status])?void 0:a.icon:""}));s((()=>{var a;return M.value?null==(a=A[M.value.status])?void 0:a.desc:""})),e((a=>{const l=a.id||"1";E(l,a.status?parseInt(a.status):null)}));const E=(a,l)=>{const s=l||10;M.value={id:a,order_id:"202512291001123456",create_time:"2025-12-29 19:41:37",pay_time:s>10?"2025-12-29 19:42:00":null,pay_method:s>10?"账户余额":null,status:s,goods_list:[{image:"https://cdn.uviewui.com/uview/album/1.jpg",title:"古韵民族丝绸非遗刺绣",tags:["实物藏品","限量999份"],price:188,num:1},{image:"https://cdn.uviewui.com/uview/album/2.jpg",title:"玄色・凤凰刺绣",tags:["实物藏品"],price:188,num:2}],contact_person:"李贺涵",contact_phone:"18388888888",address:"云南省昆明市呈贡区新城吴家营片区朝云街1号",goods_amount:564,freight:0,service_fee:40,total_amount:604},90===s&&(A[90].desc="退款成功 ￥604.00")},K=()=>{q.value=!0},L=()=>{q.value=!1,y({title:"订单已取消",icon:"none"}),k()},R=()=>{h({url:`/pages-gz/grab-order/confirm-order?id=${M.value.id}`})},G=()=>{h({url:`/pages-gz/grab-order/confirm-order?id=${M.value.id}`})},H=()=>{N.value=!0},J=()=>{N.value=!1,h({url:`/pages-gz/grab-order/refund-apply?id=${M.value.id}`})},O=()=>{C({title:"确认收货",content:"确认已收到商品？",success:a=>{a.confirm&&(M.value.status=70)}})},P=()=>{y({title:"查看物流",icon:"none"})},Q=()=>{T.value=!0},S=()=>{T.value=!1,x({title:"删除中"}),setTimeout((()=>{z(),y({title:"删除成功",icon:"success"}),k()}),500)},V=()=>{y({title:"联系客服",icon:"none"})};return(a,l)=>{const s=t(c("u-icon"),d),e=F,k=i,h=t(c("LayoutNavigation"),U),C=j,x=I,z=t(c("CxModal"),$);return r(),u(k,{class:"page-wrap order-detail"},{default:o((()=>[n(h,{type:"gz",title:"实物藏品-订单详情"},{right:o((()=>[n(k,{class:"nav-right"},{default:o((()=>[n(e,{url:"/pages/my/customer-service",class:"nav-item"},{default:o((()=>[n(s,{name:"server-fill",color:"#fff",size:"40rpx"})])),_:1})])),_:1})])),_:1}),f(M)?(r(),u(k,{key:0,class:"page-content"},{default:o((()=>[n(k,{class:"status-header"},{default:o((()=>[n(k,{class:"status-icon"},{default:o((()=>[n(s,{name:f(D),color:"#fff",size:"56rpx"},null,8,["name"])])),_:1}),n(k,{class:"status-text-wrap"},{default:o((()=>[n(C,{class:"status-title"},{default:o((()=>[_(m(f(B)),1)])),_:1})])),_:1})])),_:1}),n(k,{class:"info-card address-card"},{default:o((()=>[n(k,{class:"location-icon"},{default:o((()=>[n(s,{name:"map-fill",color:"#fff",size:"30rpx"})])),_:1}),n(k,{class:"address-info"},{default:o((()=>[n(k,{class:"user-row"},{default:o((()=>[n(C,{class:"name"},{default:o((()=>[_(m(f(M).contact_person),1)])),_:1}),n(C,{class:"phone"},{default:o((()=>[_(m(f(M).contact_phone),1)])),_:1})])),_:1}),n(k,{class:"addr-text"},{default:o((()=>[_(m(f(M).address),1)])),_:1})])),_:1})])),_:1}),n(k,{class:"info-card product-card"},{default:o((()=>[n(k,{class:"card-title-row"},{default:o((()=>[n(k,{class:"red-bar"}),n(C,{class:"card-title"},{default:o((()=>[_("藏品信息")])),_:1})])),_:1}),n(k,{class:"product-list"},{default:o((()=>[(r(!0),p(g,null,v(f(M).goods_list,((a,l)=>(r(),u(k,{class:"product-item",key:l},{default:o((()=>[n(x,{class:"product-img",src:a.image,mode:"aspectFill"},null,8,["src"]),n(k,{class:"product-details"},{default:o((()=>[n(k,{class:"product-title"},{default:o((()=>[_(m(a.title),1)])),_:2},1024),n(k,{class:"product-tags"},{default:o((()=>[(r(!0),p(g,null,v(a.tags,((a,l)=>(r(),u(C,{class:"tag",key:l},{default:o((()=>[_(m(a),1)])),_:2},1024)))),128))])),_:2},1024),n(k,{class:"product-price-row"},{default:o((()=>[n(C,{class:"price"},{default:o((()=>[_("¥"+m(a.price.toFixed(2)),1)])),_:2},1024),n(C,{class:"count"},{default:o((()=>[_("x"+m(a.num),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),n(k,{class:"summary-section"},{default:o((()=>[n(k,{class:"summary-row"},{default:o((()=>[n(C,{class:"label"},{default:o((()=>[_("商品金额")])),_:1}),n(C,{class:"value"},{default:o((()=>[_("¥"+m(f(M).goods_amount.toFixed(2)),1)])),_:1})])),_:1}),n(k,{class:"summary-row"},{default:o((()=>[n(C,{class:"label"},{default:o((()=>[_("运费")])),_:1}),n(C,{class:"value"},{default:o((()=>[_("¥"+m(f(M).freight.toFixed(2)),1)])),_:1})])),_:1}),n(k,{class:"summary-row"},{default:o((()=>[n(C,{class:"label"},{default:o((()=>[_("技术服务费")])),_:1}),n(C,{class:"value"},{default:o((()=>[_("¥"+m(f(M).service_fee.toFixed(2)),1)])),_:1})])),_:1}),n(k,{class:"divider"}),n(k,{class:"summary-row total-row"},{default:o((()=>[n(C,{class:"label"},{default:o((()=>[_("实付款")])),_:1}),n(C,{class:"value total-price"},{default:o((()=>[_("¥"+m(f(M).total_amount.toFixed(2)),1)])),_:1})])),_:1})])),_:1})])),_:1}),n(k,{class:"info-card order-info-card"},{default:o((()=>[n(k,{class:"card-title-row"},{default:o((()=>[n(k,{class:"red-bar"}),n(C,{class:"card-title"},{default:o((()=>[_("订单信息")])),_:1})])),_:1}),n(k,{class:"info-row"},{default:o((()=>[n(C,{class:"label"},{default:o((()=>[_("订单编号")])),_:1}),n(k,{class:"value-row"},{default:o((()=>[n(C,{class:"value"},{default:o((()=>[_(m(f(M).order_id),1)])),_:1}),n(C,{class:"copy-btn",onClick:l[0]||(l[0]=a=>{return l=f(M).order_id,void w({data:l,success:()=>y({title:"复制成功",icon:"none"})});var l})},{default:o((()=>[_("复制")])),_:1})])),_:1})])),_:1}),n(k,{class:"info-row"},{default:o((()=>[n(C,{class:"label"},{default:o((()=>[_("下单时间")])),_:1}),n(C,{class:"value"},{default:o((()=>[_(m(f(M).create_time),1)])),_:1})])),_:1}),f(M).pay_time?(r(),u(k,{key:0,class:"info-row"},{default:o((()=>[n(C,{class:"label"},{default:o((()=>[_("付款时间")])),_:1}),n(C,{class:"value"},{default:o((()=>[_(m(f(M).pay_time),1)])),_:1})])),_:1})):b("",!0),f(M).pay_method?(r(),u(k,{key:1,class:"info-row"},{default:o((()=>[n(C,{class:"label"},{default:o((()=>[_("支付方式")])),_:1}),n(C,{class:"value"},{default:o((()=>[_(m(f(M).pay_method),1)])),_:1})])),_:1})):b("",!0),90===f(M).status?(r(),p(g,{key:2},[n(k,{class:"divider"}),n(k,{class:"info-row"},{default:o((()=>[n(C,{class:"label"},{default:o((()=>[_("退款编号")])),_:1}),n(C,{class:"value"},{default:o((()=>[_(m(f(M).refund_no||"RK20250101001"),1)])),_:1})])),_:1}),n(k,{class:"info-row"},{default:o((()=>[n(C,{class:"label"},{default:o((()=>[_("退款金额")])),_:1}),n(C,{class:"value price"},{default:o((()=>[_("¥"+m(f(M).total_amount.toFixed(2)),1)])),_:1})])),_:1}),n(k,{class:"info-row"},{default:o((()=>[n(C,{class:"label"},{default:o((()=>[_("退款原因")])),_:1}),n(C,{class:"value"},{default:o((()=>[_("拍错/多拍/不想要")])),_:1})])),_:1})],64)):b("",!0)])),_:1})])),_:1})):b("",!0),f(M)?(r(),u(k,{key:1,class:"bottom-bar"},{default:o((()=>[10===f(M).status?(r(),p(g,{key:0},[n(k,{class:"btn outline",onClick:K},{default:o((()=>[_("取消订单")])),_:1}),n(k,{class:"btn primary",onClick:R},{default:o((()=>[_("去支付")])),_:1})],64)):b("",!0),20===f(M).status?(r(),p(g,{key:1},[n(k,{class:"btn outline",onClick:H},{default:o((()=>[_("申请退款")])),_:1}),n(k,{class:"btn primary",onClick:G},{default:o((()=>[_("逛逛其他藏品")])),_:1})],64)):b("",!0),50===f(M).status?(r(),p(g,{key:2},[n(k,{class:"btn outline",onClick:P},{default:o((()=>[_("查看物流")])),_:1}),n(k,{class:"btn primary",onClick:O},{default:o((()=>[_("确认收货")])),_:1})],64)):b("",!0),70===f(M).status?(r(),p(g,{key:3},[n(k,{class:"btn outline",onClick:Q},{default:o((()=>[_("删除订单")])),_:1}),n(k,{class:"btn outline",onClick:P},{default:o((()=>[_("查看物流")])),_:1})],64)):b("",!0),90===f(M).status?(r(),p(g,{key:4},[n(k,{class:"btn outline",onClick:Q},{default:o((()=>[_("删除记录")])),_:1}),n(k,{class:"btn outline",onClick:V},{default:o((()=>[_("联系客服")])),_:1})],64)):b("",!0)])),_:1})):b("",!0),n(z,{show:f(N),"onUpdate:show":l[1]||(l[1]=a=>N.value=a),title:"退款申请",content:"您确定要申请退款吗？申请后资金将原路返回。",onConfirm:J,onCancel:l[2]||(l[2]=a=>N.value=!1)},null,8,["show"]),n(z,{show:f(T),"onUpdate:show":l[3]||(l[3]=a=>T.value=a),title:"删除订单",content:"删除后无法恢复，确定删除？",onConfirm:S,onCancel:l[4]||(l[4]=a=>T.value=!1)},null,8,["show"]),n(z,{show:f(q),"onUpdate:show":l[5]||(l[5]=a=>q.value=a),title:"取消订单",content:"取消后订单将无法发货，确定取消？",onConfirm:L,onCancel:l[6]||(l[6]=a=>q.value=!1)},null,8,["show"])])),_:1})}}},[["__scopeId","data-v-0f970d86"]]);export{M as default};
