import{_ as a,K as s,r as t,ai as e,x as i,y as o,g as l,j as n,f as c,u as f,B as r,F as u,J as d,z as m,m as p,o as _,h as g,b as x,l as y,k as v,t as C,C as h}from"./index-E36eYFUz.js";import{_ as j}from"./uni-icons.DKvk8G6K.js";import{_ as k}from"./Navigation.fXnM5b3z.js";import{_ as z}from"./CxModal.B62FgOA2.js";import"./CxComfirmBtn.D_Y-qTM9.js";const b=a({__name:"system-notification",setup(a){s((a=>({"24e43068":B})));let b=t("系统通知"),w=t(null),M=t(!1);const{proxy:A}=d(),B=A.$safeAreaInfo.top+80+"rpx",D=t([{id:2,receiver_id:6,title:"这个是个通知",subtitle:"这个是一个副标题",status:1,create_time:"2025-12-09 00:01:40",is_read:2}]),I=()=>{L(),M.value=!1},L=()=>{M.value=!0};return e((()=>{w.value=A.getOpenerEventChannel(),w.value.on("sendMessageDatas",(a=>{a&&a.messageListsData}))})),(a,s)=>{const t=i(o("uni-icons"),j),e=i(o("LayoutNavigation"),k),d=i(o("u-icon"),m),w=p,A=i(o("CxModal"),z);return _(),l(u,null,[n(w,{class:"page-wrap system-notification"},{default:c((()=>[n(e,{type:"gz",title:f(b)},{right:c((()=>[n(t,{"custom-prefix":"iconfont",type:"icon-qingchu",size:"30rpx",color:"#ffffff",onClick:L})])),_:1},8,["title"]),n(w,{class:"page-content"},{default:c((()=>[n(w,{class:"page-container"},{default:c((()=>[n(w,{class:"notification-list"},{default:c((()=>[(_(!0),l(u,null,g(f(D),((a,s)=>(_(),x(w,{key:s,class:"notification-item",onClick:s=>((a,s)=>{console.log("接收到的消息数据:",a),h({url:`/pages-gz/my/system-notification-detail?id=${a.id}`})})(a)},{default:c((()=>[n(w,{class:"icon-wrapper"},{default:c((()=>[n(d,{name:"bell-fill",size:"36",color:"#fff"}),2===a.is_read?(_(),x(w,{key:0,class:"dot"})):y("",!0)])),_:2},1024),n(w,{class:"content"},{default:c((()=>[n(w,{class:"title"},{default:c((()=>[v(C(a.title),1)])),_:2},1024),n(w,{class:"desc"},{default:c((()=>[v(C(a.subtitle),1)])),_:2},1024)])),_:2},1024),n(w,{class:"time"},{default:c((()=>[v(C(a.create_time),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),n(w)])),_:1}),n(A,{show:f(M),"onUpdate:show":s[0]||(s[0]=a=>r(M)?M.value=a:M=a),content:"全部标记为已读吗？",onConfirm:I},null,8,["show"])],64)}}},[["__scopeId","data-v-26b31f58"]]);export{b as default};
