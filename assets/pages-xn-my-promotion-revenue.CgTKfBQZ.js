import{_ as a,r as e,ai as t,x as s,y as o,b as l,f as n,D as i,m as u,o as r,j as m,u as c,g as d,h as v,F as f,k as _,t as p}from"./index-E36eYFUz.js";import{_ as g}from"./Navigation.fXnM5b3z.js";import{_ as h}from"./ProductList.aAvT4MfD.js";import{m as y}from"./xn.B6pvNNd_.js";const j=a({__name:"promotion-revenue",setup(a){const j=e("收益明细"),L=e([]),b=e(1),x=e(10),R=e("loadmore"),w=e(!1),S={1:"直属推广",2:"间接推广",3:"直属实名认证",4:"间接推广用户实名认证",5:"任务扣除减免金额"},k=async(a=!1)=>{a&&(b.value=1,R.value="loading",w.value=!0);try{const e=await y({page:b.value,limit:x.value});if(w.value=!1,200===e.code){const t=e.data.lists||[];L.value=a?t:[...L.value,...t],t.length<x.value?R.value="nomore":(R.value="loadmore",b.value++)}else R.value="nomore",i({title:e.msg||"获取数据失败",icon:"none"})}catch(e){w.value=!1,R.value="nomore",i({title:"网络请求失败",icon:"none"})}},N=()=>{k(!0)},O=()=>{"nomore"!==R.value&&k()};return t((()=>{k(!0)})),(a,e)=>{const t=s(o("LayoutNavigation"),g),i=u,y=s(o("BaseProductList"),h);return r(),l(i,{class:"page-wrap promotion-revenue"},{default:n((()=>[m(t,{title:c(j)},null,8,["title"]),m(i,{class:"page-content"},{default:n((()=>[m(i,{class:"list-container"},{default:n((()=>[m(y,{isRefreshing:c(w),loadStatus:c(R),enableRefresh:!1,enableLoadMore:!0,onOnRefresh:N,onOnScrollToLower:O},{scrollContain:n((()=>[(r(!0),d(f,null,v(c(L),((a,e)=>(r(),l(i,{class:"list-item",key:e},{default:n((()=>[m(i,{class:"item-main"},{default:n((()=>[m(i,{class:"item-title"},{default:n((()=>[_(p(S[a.type]||"未知类型"),1)])),_:2},1024),m(i,{class:"item-time"},{default:n((()=>[_(p(a.create_time),1)])),_:2},1024)])),_:2},1024),m(i,{class:"item-amount"},{default:n((()=>[_("+ "+p(a.amount),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["isRefreshing","loadStatus"])])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-505b6d4d"]]);export{j as default};
