import{_ as e,R as a,r as t,af as s,d as n,aI as l,v as i,C as o,D as c,b as d,f as r,J as u,m,o as p,j as v,u as _,g,h as x,F as f,aJ as C,l as y,aK as h,I as k,k as I,t as w,A as j}from"./index-CEWynjhb.js";import{_ as L}from"./Navigation.lmAa004D.js";import{_ as N}from"./LevelCard.CDactKbk.js";import{_ as b}from"./CxComfirmBtn.Drgqta23.js";const A=e({__name:"index",setup(e){const A=a();t(1);let D=t("等级选择"),B=t(!1),J=t(1),R=s([]);s([{text:"手机号验证"},{text:"身份验证"},{text:"等级选择"}]);const F=async()=>{B.value=!0;const{name:e,deposit:a=0,id:t}=R[J.value-1],{code:s,data:n,msg:l}=await h({id:t});B.value=!1,200===s?(await A.updateUserInfo("XN",{level:n.level,is_buy:n.is_buy,real_name_check:n.real_name_check}),k({url:"/pages/xn/my/identity-authentication",success(t){t.eventChannel.emit("acceptLevelData",{selectIndex:J,name:e,deposit:a})}})):100014===s?(u({title:l||"更新失败",icon:"none"}),k({url:"/pages/xn/my/identity-authentication",success(t){t.eventChannel.emit("acceptLevelData",{selectIndex:J,name:e,deposit:a})}})):u({title:l||"更新失败",icon:"none"})};return n((async()=>{((e={})=>{const{code:a=9999,data:t,msg:s}=e;200===a?(null==t?void 0:t.lists.length)>0&&R.splice(0,R.length,...t.lists):u({title:s||"数据加载失败",icon:"none"})})(await l()||{})})),i((()=>{})),(e,a)=>{const t=o(c("LayoutNavigation"),L),s=o(c("CommonLevelCard"),N),n=m,l=j,i=o(c("CxComfirmBtn"),b);return p(),d(n,{class:"page-wrap grab-order"},{default:r((()=>[v(t,{title:_(D)},null,8,["title"]),v(n,{class:"page-content"},{default:r((()=>[v(n,{class:"cloud-list"},{default:r((()=>[(p(!0),g(f,null,x(_(R),((e,a)=>(p(),d(s,{key:e.name,cardIndex:a+1,selectIndex:_(J),levelName:e.name,guaranteedAmount:e.deposit,works:e.content,onClick:()=>(e=>{J.value=e+1})(a)},null,8,["cardIndex","selectIndex","levelName","guaranteedAmount","works","onClick"])))),128))])),_:1}),_(R).length?(p(),g(f,{key:0},[v(n,{class:"margin-instruction"},{default:r((()=>[C("h5",{class:"level-title"},"等级说明："),(p(!0),g(f,null,x(_(R),((e,a)=>(p(),d(l,{class:"margin-instruction-text",key:e.name},{default:r((()=>[I(w(a+1)+"档("+w(e.deposit)+"元) ",1)])),_:2},1024)))),128))])),_:1}),v(n,{class:"enter-wrap"},{default:r((()=>[v(i,{text:"进入",loading:_(B),onClick:F},null,8,["loading"])])),_:1})],64)):y("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-66c54e0a"]]);export{A as default};
