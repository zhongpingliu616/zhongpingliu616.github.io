import{_ as e}from"./Navigation.DJK0J8h_.js";import{_ as a,r as t,d as l,C as s,D as r,a as n,aB as o,aC as i,o as c,b as u,f as d,g as m,F as f,h as g,u as p,j as b,k as v,t as h,l as _,J as x,p as y,m as k,A as w,aA as C,c as G,H as j,y as z,n as T,U}from"./index-Cklw5-2D.js";import{_ as I}from"./CxTabs.05whoCUn.js";import{_ as R}from"./CxTag.b7zN5PMZ.js";import{_ as S}from"./CxComfirmBtn.C_6MRR7B.js";const F=a({__name:"Completed",setup(e){const a=t(3),G=t([]),j=t(!1),z=t(!1),T=t(1),U=t(10),I=t(!1),F=async(e=!1)=>{if(e&&(T.value=1,I.value=!1,G.value=[]),!I.value||e){j.value=!0;try{await new Promise((e=>setTimeout(e,800)));const t=((e,t)=>{const l=[];for(let s=0;s<t;s++){const r=(e-1)*t+s+1;l.push({id:r,image:"https://cdn.uviewui.com/uview/album/1.jpg",title:"古韵民族丝绸非遗刺绣",quota:60,riseRate:80,canGrab:a.value>=2})}return l})(T.value,U.value);t.length<U.value&&(I.value=!0),G.value=e?t:[...G.value,...t],T.value++}catch(t){console.error("数据加载失败:",t)}finally{j.value=!1,z.value=!1}}},B=()=>{z.value=!0,F(!0)},P=()=>{j.value||I.value||F()};return l((()=>{F()})),(e,a)=>{const t=y,l=k,T=s(r("CxTag"),R),U=n("up-icon"),F=w,V=s(r("CxComfirmBtn"),S),q=s(r("u-loading-icon"),o),A=s(r("u-empty"),i),H=C;return c(),u(H,{"scroll-y":!0,onRefresherrefresh:B,onScrolltolower:P,"enable-back-to-top":!0,"refresher-enabled":!0,"refresher-triggered":p(z),"refresher-default-style":"black","refresher-background":"transparent","lower-threshold":100,class:"scroll-view"},{default:d((()=>[(c(!0),m(f,null,g(p(G),((e,a)=>(c(),u(l,{key:a,class:"order-card-item"},{default:d((()=>[b(l,{class:"card-header"},{default:d((()=>[b(t,{src:e.image,class:"card-image",mode:"aspectFill"},null,8,["src"]),b(l,{class:"card-content"},{default:d((()=>[b(l,{class:"card-title"},{default:d((()=>[v(h(e.title),1)])),_:2},1024),b(l,{class:"tags"},{default:d((()=>[b(T,{text:"工期360天",bgGradient:["rgba(248,163,29,0.1)","rgba(248,163,29,0.1)"]},null,8,["bgGradient"]),v("  "),b(T,{text:"难度低",bgGradient:["rgba(248,163,29,0.1)","rgba(248,163,29,0.1)"]},null,8,["bgGradient"])])),_:1}),b(l,{class:"bottom-row"},{default:d((()=>[b(l,{class:"complete-time"},{default:d((()=>[b(U,{name:"clock",color:"#04427F",size:"36rpx"}),v("  "),b(F,null,{default:d((()=>[v(" 每周三 16:00 ")])),_:1})])),_:1}),b(l,{class:"can-grab"},{default:d((()=>[b(V,{btnStyle:{height:"60rpx"},onClick:e=>{x({title:"提交成品！",icon:"success"})},text:"提交成品"},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),p(j)&&!p(z)?(c(),u(q,{key:0,size:30,"show-text":!0,text:"加载中...",style:{margin:"30rpx auto"}})):_("",!0),p(G).length>0&&!p(j)&&p(I)?(c(),u(A,{key:1,mode:"data",text:"没有更多数据了","icon-size":80,style:{"margin-top":"50rpx"}})):_("",!0),0!==p(G).length||p(j)||p(z)?_("",!0):(c(),u(A,{key:2,mode:"data",text:"暂无数据","icon-size":80,style:{"margin-top":"100rpx"}}))])),_:1},8,["refresher-triggered"])}}},[["__scopeId","data-v-f2fcf07f"]]),B=a({__name:"Unfinished",setup(e){const a=t(3),x=t([]),G=t(!1),j=t(!1),z=t(1),T=t(10),U=t(!1),I=async(e=!1)=>{if(e&&(z.value=1,U.value=!1,x.value=[]),!U.value||e){G.value=!0;try{await new Promise((e=>setTimeout(e,800)));const t=((e,t)=>{const l=[];for(let s=0;s<t;s++){const r=(e-1)*t+s+1;l.push({id:r,image:"https://cdn.uviewui.com/uview/album/1.jpg",title:"古韵民族丝绸非遗刺绣",quota:60,riseRate:80,canGrab:a.value>=2})}return l})(z.value,T.value);t.length<T.value&&(U.value=!0),x.value=e?t:[...x.value,...t],z.value++}catch(t){console.error("数据加载失败:",t)}finally{G.value=!1,j.value=!1}}},F=()=>{j.value=!0,I(!0)},B=()=>{G.value||U.value||I()};return l((()=>{I()})),(e,a)=>{const t=y,l=k,z=s(r("CxTag"),R),T=n("up-icon"),I=w,P=s(r("CxComfirmBtn"),S),V=s(r("u-loading-icon"),o),q=s(r("u-empty"),i),A=C;return c(),u(A,{"scroll-y":!0,onRefresherrefresh:F,onScrolltolower:B,"enable-back-to-top":!0,"refresher-enabled":!0,"refresher-triggered":p(j),"refresher-default-style":"black","refresher-background":"transparent","lower-threshold":100,class:"scroll-view"},{default:d((()=>[(c(!0),m(f,null,g(p(x),((e,a)=>(c(),u(l,{key:a,class:"order-card-item"},{default:d((()=>[b(l,{class:"card-header"},{default:d((()=>[b(t,{src:e.image,class:"card-image",mode:"aspectFill"},null,8,["src"]),b(l,{class:"card-content"},{default:d((()=>[b(l,{class:"card-title"},{default:d((()=>[v(h(e.title),1)])),_:2},1024),b(l,{class:"tags"},{default:d((()=>[b(z,{text:"工期360天",bgGradient:["rgba(248,163,29,0.1)","rgba(248,163,29,0.1)"]},null,8,["bgGradient"]),v("  "),b(z,{text:"难度低",bgGradient:["rgba(248,163,29,0.1)","rgba(248,163,29,0.1)"]},null,8,["bgGradient"])])),_:1}),b(l,{class:"bottom-row"},{default:d((()=>[b(l,{class:"complete-time"},{default:d((()=>[b(T,{name:"clock",color:"#04427F",size:"36rpx"}),v("  "),b(I,null,{default:d((()=>[v(" 每周三 16:00 ")])),_:1})])),_:1}),b(l,{class:"can-grab"},{default:d((()=>[b(P,{btnStyle:{height:"60rpx"},text:"未完成"})])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),p(G)&&!p(j)?(c(),u(V,{key:0,size:30,"show-text":!0,text:"加载中...",style:{margin:"30rpx auto"}})):_("",!0),p(x).length>0&&!p(G)&&p(U)?(c(),u(q,{key:1,mode:"data",text:"没有更多数据了","icon-size":80,style:{"margin-top":"50rpx"}})):_("",!0),0!==p(x).length||p(G)||p(j)?_("",!0):(c(),u(q,{key:2,mode:"data",text:"暂无数据","icon-size":80,style:{"margin-top":"100rpx"}}))])),_:1},8,["refresher-triggered"])}}},[["__scopeId","data-v-9cab8f40"]]),P=a({__name:"work-management",setup(a){const l={Completed:F,Unfinished:B};let n=t("作品管理");t("Unfinished");let o=t(0),i=t([{name:"已完成作品",rolse:"Completed"},{name:"未完成作品",rolse:"Unfinished"}]);const m=G((()=>l[1==o.value?"Unfinished":"Completed"]));return(a,t)=>{const l=s(r("LayoutNavigation"),e),f=w,g=k,_=s(r("CxTabs"),I);return c(),u(g,{class:"page-wrap work-management"},{default:d((()=>[b(l,{title:p(n)},null,8,["title"]),b(g,{class:"page-content"},{default:d((()=>[b(_,{tabItems:p(i),scrollable:!1,lineHeight:"0",lineWidth:"0",itemStyle:{paddingLeft:"0rpx",paddingRight:"0rpx"},lineColor:"rgba(244, 229, 188, 1)",modelValue:p(o),"onUpdate:modelValue":t[0]||(t[0]=e=>j(o)?o.value=e:o=e),class:"work-tabs"},{tabItem:d((({item:e,index:a})=>[b(g,{class:z(["tab-item",{active:p(o)===a}]),style:T({color:"rgba(255, 255, 255, 1)"})},{default:d((()=>[b(f,{class:"tab-text"},{default:d((()=>[v(h(e.name),1)])),_:2},1024)])),_:2},1032,["class","style"])])),_:1},8,["tabItems","modelValue"]),b(g,{class:"order-list"},{default:d((()=>[b(g,{class:"order-container"},{default:d((()=>[(c(),u(U,null,[(c(),u(r(p(m))))],1024))])),_:1})])),_:1})])),_:1}),b(g)])),_:1})}}},[["__scopeId","data-v-bf94ce3a"]]);export{P as default};
