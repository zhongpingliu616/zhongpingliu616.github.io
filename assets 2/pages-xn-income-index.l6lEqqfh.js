import{_ as a,r as e,am as t,ad as s,C as l,E as o,D as c,a4 as r,o as i,g as d,j as n,f as u,n as f,u as m,i as p,k as _,b as h,X as C,l as g,F as w,H as x,J as b,an as y,ao as k,ap as Q,aq as v,p as z,A as F,m as B,d as I,a as S,t as j,I as X,h as $,U as M}from"./index-Cklw5-2D.js";import{a as R,_ as U}from"./Navigation.DJK0J8h_.js";import{_ as A}from"./CxComfirmBtn.C_6MRR7B.js";import{_ as H}from"./CustomBarXn.dKELcHvV.js";import{_ as W}from"./CxModal.C_EAuDKr.js";const D=a({__name:"WithdrawalMethod",emits:["close"],setup(a,{emit:I}){let S=e(!1);const j=t().statusBarHeight,X=I;let $=e(!1),M="",U=s({wechatQrCode:"",alipayQrCode:""});const H=async()=>{if(U.wechatQrCode&&U.alipayQrCode){S.value=!0;try{const a=await y(U.wechatQrCode),e=await y(U.alipayQrCode),t=await k({front_image:a.url,back_image:e.url}),{code:s=9999,data:l,msg:o}=t;200===s?(b({title:"上传成功，等待审核",icon:"success"}),setTimeout((()=>{P()}),1500)):b({title:o||"上传失败，请重试",icon:"none"})}catch(a){console.error("认证失败",a),b({title:"string"==typeof a?a:a.msg||"上传请求异常",icon:"none"})}finally{S.value=!1}}else b({title:"请上传您收款微信和支付宝二维码",icon:"none"})},D=a=>{Q({urls:[a]})},E=()=>{U[M]=""},L=a=>{M=a,$.value=!0},N=a=>{console.log("点击上传"+("wechatQrCode"===a?"微信":"支付宝")),v({count:1,success:e=>{console.log("选择图片成功:",e.tempFilePaths[0]),U[a]=e.tempFilePaths[0]}})},P=()=>{X("close")};return(a,e)=>{const t=z,s=F,b=B,y=l(c("u-icon"),o),k=l(c("u-card"),r),Q=l(c("CxComfirmBtn"),A),v=l(c("CxModal"),W);return i(),d(w,null,[n(b,{class:"page-wrap index"},{default:u((()=>[n(b,{class:"nav",style:f({top:2*m(j)+"px"})},{default:u((()=>[n(b,{class:"bar"},{default:u((()=>[p(a.$slots,"left",{},(()=>[n(t,{class:"back",src:R,onClick:P})]),!0),n(b,{class:"title-wrap"},{default:u((()=>[p(a.$slots,"title",{},(()=>[n(s,{class:"title"},{default:u((()=>[_("提现方式")])),_:1})]),!0)])),_:3}),n(b,{class:"bar-right"},{default:u((()=>[p(a.$slots,"right",{},void 0,!0)])),_:3})])),_:3})])),_:3},8,["style"]),n(b,{class:"page-content"},{default:u((()=>[n(b,{class:"page-container"},{default:u((()=>[n(k,{title:"微信收款码",border:!1,"head-border-bottom":!1,"title-size":"28rpx","border-radius":"24rpx",class:"withdrawal-upload-card"},{body:u((()=>[n(b,{class:"upload-box"},{default:u((()=>[n(b,{class:"upload-area",onClick:e[2]||(e[2]=a=>N("wechatQrCode"))},{default:u((()=>[m(U).wechatQrCode?(i(),h(t,{key:0,src:m(U).wechatQrCode,class:"preview-img",mode:"widthFix",onClick:e[0]||(e[0]=C((a=>D(m(U).wechatQrCode)),["stop"]))},null,8,["src"])):g("",!0),m(U).wechatQrCode?(i(),h(b,{key:1,class:"delete-image",onClick:e[1]||(e[1]=C((a=>L("wechatQrCode")),["stop"]))},{default:u((()=>[_("×")])),_:1})):(i(),d(w,{key:2},[n(y,{name:"plus",color:"#999",size:"60"}),n(s,{class:"tip"},{default:u((()=>[_("点击上传")])),_:1})],64))])),_:1})])),_:1})])),_:1}),n(k,{title:"支付宝收款码",border:!1,"head-border-bottom":!1,"title-size":"28rpx","border-radius":"24rpx",class:"withdrawal-upload-card"},{body:u((()=>[n(b,{class:"upload-box"},{default:u((()=>[n(b,{class:"upload-area",onClick:e[5]||(e[5]=a=>N("alipayQrCode"))},{default:u((()=>[m(U).alipayQrCode?(i(),h(t,{key:0,src:m(U).alipayQrCode,class:"preview-img",mode:"widthFix",onClick:e[3]||(e[3]=C((a=>D(m(U).alipayQrCode)),["stop"]))},null,8,["src"])):g("",!0),m(U).alipayQrCode?(i(),h(b,{key:1,class:"delete-image",onClick:e[4]||(e[4]=C((a=>L("alipayQrCode")),["stop"]))},{default:u((()=>[_("×")])),_:1})):(i(),d(w,{key:2},[n(y,{name:"plus",color:"#999",size:"60"}),n(s,{class:"tip"},{default:u((()=>[_("点击上传")])),_:1})],64))])),_:1})])),_:1})])),_:1})])),_:1}),n(Q,{text:"保存",onClick:H,btnStyle:{}})])),_:1}),n(b)])),_:3}),n(v,{show:m($),"onUpdate:show":e[6]||(e[6]=a=>x($)?$.value=a:$=a),content:"确定删除该收款码吗？",onConfirm:E},null,8,["show"])],64)}}},[["__scopeId","data-v-e8ec6c3b"]]),E=a({__name:"index",setup(a){let t=e(!1);const s=e([{title:"国风非遗刺绣",amount:"500.00",desc:"绣娘50% 平台30% 绣娘公益基金20%"},{title:"国风非遗刺绣",amount:"500.00",desc:"绣娘50% 平台30% 绣娘公益基金20%"},{title:"国风非遗刺绣",amount:"500.00",desc:"绣娘50% 平台30% 绣娘公益基金20%"},{title:"国风非遗刺绣",amount:"500.00",desc:"绣娘50% 平台30% 绣娘公益基金20%"}]),r=()=>{X({url:"/pages/xn/income/withdraw-cash"})},f=()=>{t.value=!1};return I((()=>{console.log("收益页面加载")})),(a,e)=>{const p=B,C=l(c("u-icon"),o),b=l(c("LayoutNavigation"),U),y=F,k=l(c("CxComfirmBtn"),A),Q=l(c("LayoutCustomBarXn"),H),v=l(c("XnIncomeWithdrawalMethod"),D),z=S("up-popup");return i(),d(w,null,[n(p,{class:"page-wrap income-index"},{default:u((()=>[n(b,{title:"我的收益"},{left:u((()=>[n(p)])),right:u((()=>[n(C,{name:"more-dot-fill",color:"#fff",size:"38rpx"})])),_:1}),n(p,{class:"page-content"},{default:u((()=>[n(p,{class:"balance-card"},{default:u((()=>[n(p,{class:"card-top"},{default:u((()=>[n(p,{class:"balance-info"},{default:u((()=>[n(y,{class:"label"},{default:u((()=>[_("账户余额 (RWVA)")])),_:1}),n(y,{class:"amount"},{default:u((()=>[_(j(a.$globalUserInfoXn.income),1)])),_:1}),n(y,{class:"note"},{default:u((()=>[_("仅每周三10:00-12:00提现")])),_:1})])),_:1}),n(p,{class:"action-btns"},{default:u((()=>[n(k,{text:"提现",btnStyle:{background:"#FF4D4F",color:"#fff",width:"140rpx",height:"60rpx",marginBottom:"16rpx",fontSize:"28rpx",borderRadius:"100rpx"},onClick:r}),n(k,{text:"充值",btnStyle:{background:"transparent",color:"#333",width:"140rpx",height:"60rpx",borderColor:"#333",fontSize:"28rpx",borderRadius:"100rpx",plain:!0},onClick:e[0]||(e[0]=()=>{X({url:"/pages/xn/income/recharge"})})})])),_:1})])),_:1}),n(p,{class:"card-bottom"},{default:u((()=>[n(p,{class:"stat-item"},{default:u((()=>[n(y,{class:"stat-label"},{default:u((()=>[_("已到账收益(元)")])),_:1}),n(y,{class:"stat-value"},{default:u((()=>[_(j(a.$globalUserInfoXn.income),1)])),_:1})])),_:1}),n(p,{class:"stat-divider"}),n(p,{class:"stat-item"},{default:u((()=>[n(y,{class:"stat-label"},{default:u((()=>[_("待到账收益(元)")])),_:1}),n(y,{class:"stat-value"},{default:u((()=>[_("999,222.00")])),_:1})])),_:1})])),_:1})])),_:1}),n(p,{class:"section-title"},{default:u((()=>[_("提现资料")])),_:1}),n(p,{class:"withdraw-method-card",onClick:e[1]||(e[1]=a=>x(t)?t.value=!0:t=!0)},{default:u((()=>[n(p,{class:"method-left"},{default:u((()=>[g("",!0),n(C,{name:"rmb-circle-fill",color:"#E60012",size:"50rpx",customStyle:"margin-right: 20rpx"}),n(y,{class:"method-name"},{default:u((()=>[_("提现信息")])),_:1})])),_:1}),n(p,{class:"method-right"},{default:u((()=>[n(y,{class:"bank-name"},{default:u((()=>[_("更新")])),_:1}),n(C,{name:"arrow-right",color:"#999",size:"28rpx"})])),_:1})])),_:1}),n(p,{class:"section-title"},{default:u((()=>[_("分期收益")])),_:1}),n(p,{class:"income-list"},{default:u((()=>[(i(!0),d(w,null,$(m(s),((a,e)=>(i(),h(p,{class:"income-item",key:e,onClick:a=>{X({url:"/pages/xn/income/refund-detail"})}},{default:u((()=>[n(p,{class:"item-icon"},{default:u((()=>[n(C,{name:"server-fill",color:"#fff",size:"40rpx"})])),_:1}),n(p,{class:"item-content"},{default:u((()=>[n(p,{class:"item-row-top"},{default:u((()=>[n(y,{class:"item-title"},{default:u((()=>[_(j(a.title),1)])),_:2},1024),n(y,{class:"item-amount"},{default:u((()=>[_("￥"+j(a.amount),1)])),_:2},1024)])),_:2},1024),n(p,{class:"item-desc"},{default:u((()=>[_(j(a.desc),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),n(Q)])),_:1}),n(z,{show:m(t),mode:"right",duration:100,safeAreaInsetTop:"",customStyle:"width: 750rpx;"},{default:u((()=>[(i(),h(M,null,[n(v,{onClose:f})],1024))])),_:1},8,["show"])],64)}}},[["__scopeId","data-v-50e39f58"]]);export{E as default};
