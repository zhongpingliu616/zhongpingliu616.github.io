import{_ as a,r as e,ad as s,c as l,d as t,ax as o,a0 as n,C as i,D as c,a as u,b as r,f as d,J as p,a5 as f,m,at as _,o as x,j as v,u as g,k as b,g as y,h as C,F as h,H as w,P as F,aJ as k,ac as j,A as z,p as B,t as I}from"./index-Cklw5-2D.js";import{_ as J}from"./Navigation.DJK0J8h_.js";import{_ as N}from"./CxComfirmBtn.C_6MRR7B.js";import{_ as P,a as S}from"./payment-confirm.B3y7lr8J.js";const T=a({__name:"deposit",setup(a){const{proxy:T}=F();let U=e("压金"),$=e(!1),A=e(!1),D=null,E=e(["压金单独支付，包含违约保证金和退货压金两个部分；","压金以5000元为固定额度；","压金以5000元起步，每季度根据上季度月平均商家好店整体营业额调整，只升不降；","压金额度不满时，需在10个自然日内补齐"]);const H=s([{label:0,value:"(1000 - 6000)￥"}]),L=l((()=>{var a;return(null==(a=H[0])?void 0:a.label)>0})),Q=()=>{A.value=!0,setTimeout((()=>{$.value=!1,A.value=!1,p({title:"缴纳压金成功",icon:"success"}),k({id:D}).then((a=>{console.log("新增订单返回结果",a.data.lists)})),setTimeout((()=>{j()}),1500)}),2e3)},R=()=>{$.value=!0};return t((async()=>{((a={})=>{const{code:e=9999,data:s,msg:l}=a;200===e?(null==s?void 0:s.lists.length)>0&&s.lists.forEach((a=>{a.level==T.$globalUserInfoXn.level&&(H[0].label=a.deposit)})):p({title:l||"数据加载失败",icon:"none"})})(await o())})),n((a=>{a.id&&(D=a.id),console.log("缴纳金额",a.amount)})),(a,e)=>{const s=i(c("LayoutNavigation"),J),l=z,t=i(c("u-cell"),f),o=m,n=i(c("u-text"),_),p=i(c("CxComfirmBtn"),N),F=B,k=u("up-text"),j=i(c("CxPopup"),P);return x(),r(o,{class:"page-wrap pay-deposit"},{default:d((()=>[v(s,{title:g(U)},null,8,["title"]),v(o,{class:"page-content"},{default:d((()=>[v(o,{class:"sys-block-result"},{default:d((()=>[v(l,{class:"sys-result-title"},{default:d((()=>[b("需要缴纳压金")])),_:1}),v(o,{class:"form-container"},{default:d((()=>[(x(!0),y(h,null,C(g(H),((a,e)=>(x(),r(t,{key:e,border:!1,class:"form-item",title:`￥ ${a.label}`,value:a.value,"title-style":{fontSize:"32rpx",fontWeight:"bold",color:"#333"},"value-style":{fontSize:"30rpx",color:"#666"}},null,8,["title","value"])))),128))])),_:1})])),_:1}),v(o,{class:"guarantee-card"},{default:d((()=>[v(n,{text:"保证金说明",color:"#FFFFFF",size:"30rpx",class:"title"}),v(o,{class:"content"},{default:d((()=>[(x(!0),y(h,null,C(g(E),((a,e)=>(x(),r(o,{class:"item",key:e},{default:d((()=>[v(l,{class:"number"},{default:d((()=>[b(I(e+1)+"、",1)])),_:2},1024),v(l,{class:"text"},{default:d((()=>[b(I(a),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),v(o,{class:"confirm-btn-wrap"},{default:d((()=>[v(p,{text:"立即缴纳",disabled:!g(L),onClick:R},null,8,["disabled"])])),_:1})])),_:1}),v(o,{class:"cx-popup"},{default:d((()=>[v(j,{show:g($),"onUpdate:show":e[0]||(e[0]=a=>w($)?$.value=a:$=a)},{popupContent:d((a=>[v(o,{class:"payment-confirm-wrap"},{default:d((()=>[v(F,{class:"payment-icon",mode:"aspectFill",src:S}),v(k,{size:"34rpx",bold:"",align:"center",text:"我已知晓"}),v(k,{align:"center",color:"#999",text:"缴纳前请仔细阅读保证金说明"})])),_:1}),v(o,{class:"enter-wrap"},{default:d((()=>[v(p,{text:"确认缴费",loading:g(A),onClick:Q},null,8,["loading"])])),_:1})])),_:1},8,["show"])])),_:1})])),_:1})}}},[["__scopeId","data-v-2d90eeea"]]);export{T as default};
