import{r as e,c as t,w as a,a as l,o as s,b as n,u as i,_ as o,d as r,e as c,f as u,g as d,F as p,h as m,i as g,j as f,k as v,t as h,l as x,n as y,m as _,p as C,q as A,S as b,s as w,v as S,x as z,y as k,z as T,A as j,B as L,C as V,D as X,E as R,G as B,H as D,I,J as F,K,L as M,M as O,N as U,O as G,P as H,Q as N,R as P,T as Q,U as E,V as Z,W as J,X as W}from"./index-bLIxdInw.js";import{_ as $}from"./CxSearch.C0j7Kb5z.js";import{_ as Y}from"./CustomBarXn.CtjDdMGZ.js";import{_ as q}from"./OrderCard.CueXoE-p.js";import{_ as ee}from"./ProductList.Dgs-2H1c.js";import{_ as te}from"./CxModal.BSOB5gcq.js";import{_ as ae}from"./CxScrollView.CDLArwjs.js";import{_ as le}from"./TitleList.DPwcKhB0.js";import{_ as se}from"./ProductCol.CgvpdOQV.js";import{m as ne}from"./index.DgWFE6Y4.js";import"./CxTag.Ubg2F8Fn.js";import"./CxComfirmBtn.BhasumNO.js";const ie={__name:"RolseTabs",props:{modelValue:{type:Number,default:0},tabItems:{type:Array,default:()=>[{name:"我是绣娘"},{name:"我是公众"}]},itemStyle:{type:Object,default:()=>({})},lineBg:{type:String,default:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAASCAMAAAA0cZ07AAABSlBMVEUAAAD/VQD/VVX/QED/KgD/Kir/VSr/VVX/f1X/TTPoRi7/Ri7tNyTtWzf5STH5Tzf5VTf5Wz3/STH/VTf/W0P4TDT4Uzn4Uzv4XD/7TDT7XD/4Kxz6Qi76Qy77Y0f7ZUf9fFn4Khz4Qy76ZEb7e1j7fVj6UTn6Tzf6Vjz6Vz76UDn6VTz6WT/5Tjb5Ujn5VDz7Tjb7Wj/4LB35QC35Qy/7Zkj8e1j8fFn4LB35Kxz5QC35Qy/7Y0b7Zkn8fFn8fVr4Kx34LB34LB74LR/4Lh/4LyD4MCH4MSL4MyL4NCP5NST5NiX5OCb5OSf5Oij5PCn5PSr5Pyv5QC35Qi76Tzf6UTn6Ujr6VDv6Vjz6Vz77ZUf7Zkj7aEr7aUv7a0z7bE37bk77b0/7cFD7clH7c1L8dFP8dVT8dlX8eFX8eVb8elf8e1j8fFj8fFlFVbOBAAAAQHRSTlMAAwMEBgYGBgYKCwsODioqKioqKip1dXV1dXWQkJCQkJCRkZGRkaChoaGiouLj4+Pj4+7u7u7u7u/v7+/v7+/vJ9rf/wAAANxJREFUOMtjYMALmJkZKAGcnBRpZ2OjSDu/AEXaxcQp0c2tp8+NXwWLtJGTs4urm7uHp5e3j6+ff0CgsQwrVFItLFwDymSXN42JjYtPSExKTklNS8/IzMo2U+BgkHZwRNceFCwL1sGlHhoWHqHJBebIRUWja8/JVWCwxKbdmpGTlU9UNwSkPVJHQpCNk8kGm3Z77NpNGHlYhSQNINoNpUTYeLFrN2dQxKZdCRJwyI5XxqZdFRh0FujarZRgQacVFq4NDzpbdO12KhyURhwtkw0Dv/BAZhkKMyyh4gIA26VeW8woj3cAAAAASUVORK5CYII="},activeStyle:{type:Object,default:()=>({})},inactiveStyle:{type:Object,default:()=>({})},scrollable:{type:Boolean,default:!1},lineWidth:{type:String,default:"60rpx"},lineHeight:{type:String,default:"18rpx"}},emits:["changeTab","update:modelValue"],setup(o,{emit:r}){const c={color:"#D62B2B",fontWeight:"bold",transform:"scale(1.05)",fontSize:"32rpx"},u={color:"#999",fontSize:"32rpx"},d={paddingLeft:"15rpx",paddingRight:"15rpx",height:"88rpx"},p=o;let m=e(p.modelValue);const g=r,f=t((()=>({...c,...p.activeStyle}))),v=t((()=>({...u,...p.inactiveStyle}))),h=t((()=>({...d,...p.itemStyle})));function x({index:e,name:t}){m.value=e,g("update:modelValue",e),g("changeTab",{index:e,item:p.tabItems[e]})}return a((()=>p.modelValue),(e=>{m.value=e})),(e,t)=>{const a=l("up-tabs");return s(),n(a,{list:o.tabItems,lineWidth:o.lineWidth,lineHeight:o.lineHeight,lineColor:o.lineBg.includes("base64")?`url(${o.lineBg}) 100% 100%`:o.lineBg,activeStyle:i(f),inactiveStyle:i(v),itemStyle:i(h),scrollable:o.scrollable,current:i(m),lineBgSize:"100% 110%",onChange:x},null,8,["list","lineWidth","lineHeight","lineColor","activeStyle","inactiveStyle","itemStyle","scrollable","current"])}}},oe=o({__name:"CxSwiperUni",props:{list:{type:Array,default:()=>[]},swiperHeight:{type:String,default:"300rpx"},config:{type:Object,default:()=>({})}},emits:["change"],setup(a,{emit:l}){const o={indicatorDots:!0,autoplay:!1,interval:3e3,duration:500,vertical:!1,circular:!0},S=a,z=l,k=t((()=>({...o,...S.config}))),T=e([]);r((()=>{T.value=S.list.map(((e,t)=>"video"===e.type?c(`video-${t}`):null))}));const j=e=>{V();const t=e.detail.current,a=S.list[t];z("change",{index:t,item:a})},L=e=>{T.value.forEach(((t,a)=>{t&&a!==e&&t.pause()}))},V=()=>{T.value.forEach((e=>{e&&e.pause()}))};return(e,t)=>{const l=_,o=C,r=A,c=b,S=w;return s(),n(S,{class:"cx-swiper-uni",style:y({"--swiper-height":a.swiperHeight}),circular:i(k).circular,"indicator-dots":i(k).indicatorDots,"indicator-active-color":i(k).indicatorActiveColor,"active-class":i(k).activeClass,autoplay:i(k).autoplay,interval:i(k).interval,duration:i(k).duration,vertical:i(k).vertical,onChange:j},{default:u((()=>[(s(!0),d(p,null,m(a.list,((t,a)=>(s(),n(c,{key:a},{default:u((()=>["text"===t.type?g(e.$slots,"text",{key:0,item:t,index:a},(()=>[f(l,{class:"swiper-text"},{default:u((()=>[v(h(t.text),1)])),_:2},1024)]),!0):"image"===t.type?g(e.$slots,"image",{key:1,item:t,index:a},(()=>[f(o,{class:"swiper-image",src:t.src,mode:"aspectFill"},null,8,["src"])]),!0):"video"===t.type?g(e.$slots,"video",{key:2,item:t,index:a,play:()=>L(a)},(()=>[f(r,{class:"swiper-video",id:`video-${a}`,src:t.src,poster:t.poster,controls:"",onPlay:e=>L(a)},null,8,["id","src","poster","onPlay"])]),!0):x("",!0)])),_:2},1024)))),128))])),_:3},8,["style","circular","indicator-dots","indicator-active-color","active-class","autoplay","interval","duration","vertical"])}}},[["__scopeId","data-v-a7be43c6"]]),re=o({__name:"CustomBarGz",setup(t){const a=[{path:"/pages/index",text:"首页",icon:"/static/images/index_gray_icon.png",activeIcon:"/static/images/index_active_icon.png"},{path:"/pages/gz/collectibles/index",text:"藏品",icon:"/static/images/order_gray_icon.png",activeIcon:"/static/images/order_active_icon.png"},{path:"/pages/gz/income/index",text:"资产",icon:"/static/images/income_gray_icon.png",activeIcon:"/static/images/income_active_icon.png"},{path:"/pages/gz/my/index",text:"我的",icon:"/static/images/my_gray_icon.png",activeIcon:"/static/images/my_active_icon.png"}],l=e("");return S((()=>{const e=z();l.value="/"+e[e.length-1].route})),(e,t)=>{const o=C,r=j,c=_;return s(),n(c,{class:"tab-bar"},{default:u((()=>[(s(),d(p,null,m(a,(e=>f(c,{key:e.path,class:k(["tab-item",{active:i(l)===e.path}]),onClick:t=>{var a;(a=e.path)!==l.value&&T({url:a})}},{default:u((()=>[f(o,{class:"icon",src:i(l)===e.path?e.activeIcon:e.icon},null,8,["src"]),f(r,null,{default:u((()=>[v(h(e.text),1)])),_:2},1024)])),_:2},1032,["class","onClick"]))),64))])),_:1})}}},[["__scopeId","data-v-efa5432f"]]),ce=o({__name:"Search",emits:["close"],setup(t,{emit:o}){let c=e("");const g=o;e(null);let y=e(!1);e(10);let C=e(!1);const A=e([]);e(3);const b=e([]),w=e(!1),S=e(!1),z=e(1),k=e(10),T=e(!1),G=e("loadmore"),H=e("flower"),N=async(e=!1)=>{if((!w.value||e)&&(!S.value||e)&&(!T.value||e)){e?(z.value=1,T.value=!1,S.value=!0,G.value="loading"):(w.value=!0,G.value="loading");try{const t=await O({page_no:z.value,page_size:k.value,keyword:c.value}),a=200===t.code&&t.data.lists||[];a.length<k.value?(T.value=!0,G.value="nomore"):G.value="loadmore",e?(b.value=a,U()):b.value=[...b.value,...a],z.value++}catch(t){G.value="loadmore",console.error("数据加载失败:",t),F({title:"加载失败",icon:"none"})}finally{w.value=!1,S.value=!1}}},P=()=>{S.value||N(!0)},Q=()=>{w.value||T.value||N()},E=e=>{I({url:`/pages/xn/collection-detail/index?id=${e.id}`})},Z=e=>{1==e.rush_status?I({url:`/pages/xn/my/deposit?id=${e.id}`}):F({title:"等级不足，无法抢单",icon:"none"})},J=async()=>{try{const e=await K({type:2});200===e.code?(A.value=[],C.value=!1,F({title:"搜索历史已清空",icon:"success"})):F({title:e.msg||"清空失败",icon:"none"})}catch(e){console.error("清空历史失败",e),F({title:"请求异常",icon:"none"})}},W=()=>{C.value=!0},Y=()=>{g("close")},ae=e=>{c.value||e?N(!0).then((()=>{le()})):F({title:"请输入搜索内容",icon:"none"})};a(c,(e=>{e&&console.log("搜索",e)}));const le=async()=>{try{const e=await M();if(200===e.code){const t=e.data||[];A.value=Array.isArray(t)?t:t.lists||[]}}catch(e){console.error("获取搜索历史失败",e)}};return r((()=>{le(),L((()=>{y.value=!0}))})),(e,t)=>{const a=V(X("CxSearch"),$),o=_,r=l("up-col"),g=j,y=l("up-row"),w=V(X("u-icon"),R),z=V(X("u-tag"),B),k=V(X("XnOrdersOrderCard"),q),T=V(X("BaseProductList"),ee),L=V(X("CxModal"),te);return s(),d(p,null,[f(o,{class:"search-wrap search"},{default:u((()=>[f(o,{class:"search-bar-wrap"},{default:u((()=>[f(y,{customStyle:"margin-bottom: 10px"},{default:u((()=>[f(r,{span:"10"},{default:u((()=>[f(o,{class:"search-bar"},{default:u((()=>[f(a,{modelValue:i(c),"onUpdate:modelValue":t[0]||(t[0]=e=>D(c)?c.value=e:c=e),placeholder:"输入搜索内容",showAction:"","action-text":"搜索",onSearch:ae,onCustom:ae},null,8,["modelValue"])])),_:1})])),_:1}),f(r,{span:"2"},{default:u((()=>[f(o,{class:"bell-pic"},{default:u((()=>[f(g,{class:"cancel-text",onClick:Y},{default:u((()=>[v("取消")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),i(A).length?(s(),n(o,{key:0,class:"history-search-container"},{default:u((()=>[i(c)?x("",!0):(s(),d(p,{key:0},[f(o,{class:"header"},{default:u((()=>[f(g,{class:"title"},{default:u((()=>[v("历史搜索")])),_:1}),f(w,{name:"trash",size:"20",color:"rgba(225, 210, 211, 1)",onClick:W})])),_:1}),f(o,{class:"tags-container"},{default:u((()=>[(s(!0),d(p,null,m(i(A),((e,t)=>(s(),n(z,{key:t,text:e,shape:"circle",borderColor:"rgba(245, 234, 201, .6)",color:"#F5EAC9",plain:"",style:{margin:"8rpx",padding:"1rpx 4rpx"},onClick:t=>{return a=e,c.value=a,void N(!0);var a}},null,8,["text","onClick"])))),128))])),_:1})],64))])),_:1})):x("",!0),f(o,{class:"search-result"},{default:u((()=>[f(g,{class:"search-result-text"},{default:u((()=>[v("共个"+h(i(b).length)+"搜索结果",1)])),_:1}),f(T,{onOnScrollToLower:Q,onOnRefresh:P,isRefreshing:i(S),loadStatus:i(G),iconType:i(H),enableRefresh:!0,enableLoadMore:!0},{scrollContain:u((()=>[(s(!0),d(p,null,m(i(b),((e,t)=>(s(),n(k,{item:e,onGrabOrderClick:Z,onHandleItemClick:E},null,8,["item"])))),256))])),_:1},8,["isRefreshing","loadStatus","iconType"])])),_:1})])),_:1}),f(L,{show:i(C),"onUpdate:show":t[1]||(t[1]=e=>D(C)?C.value=e:C=e),content:"确定要清空历史搜索吗？",onConfirm:J},null,8,["show"])],64)}}},[["__scopeId","data-v-8d895f72"]]),ue=o({__name:"Xn",emits:["showSearch"],setup(t,{emit:a}){let o=e();const c=[{src:"/static/images/index/order-management.png",title:"订单管理",funtionText:"管理",path:"/pages/xn/orders/order-management"},{src:"/static/images/index/work-management.png",title:"作品管理",funtionText:"管理",path:"/pages/xn/my/work-management"},{src:"/static/images/index/order-management.png",title:"订单管理",funtionText:"管理"},{src:"/static/images/index/work-management.png",title:"作品管理",funtionText:"管理"}],g=e([]),x=a;e(3);const y=e([]),A=e(!1),b=e(!1),w=e(1),S=e(10),z=e(!1),k=e("loadmore"),T=e("flower");let L=e(0),B=e({});const D=async(e=!1)=>{if((!A.value||e)&&(!b.value||e)&&(!z.value||e)){e?(w.value=1,z.value=!1,b.value=!0,k.value="loading"):(A.value=!0,k.value="loading");try{const t=await O({page_no:w.value,page_size:S.value}),a=200===t.code&&t.data.lists||[];a.length<S.value?(z.value=!0,k.value="nomore"):k.value="loadmore",e?(y.value=a,U()):y.value=[...y.value,...a],w.value++}catch(t){k.value="loadmore",console.error("数据加载失败:",t),F({title:"加载失败",icon:"none"})}finally{A.value=!1,b.value=!1}}},K=()=>{b.value||D(!0)},M=()=>{A.value||z.value||D()},H=e=>{I({url:`/pages/xn/collection-detail/index?id=${e.id}`})},N=e=>{console.log(e),e.canGrab,I({url:`/pages/xn/my/deposit?id=${e.id}`})};r((()=>{D(),(async()=>{try{const e=await G(),t=200===e.code&&e.data.lists||[];if(t.length>0){let e=[];t.forEach((t=>{e.push({...t,type:"text",text:t.title})})),g.value=e}}catch(e){console.error("公告数据加载失败:",e)}})()}));const P=()=>{x("showSearch")},Q=({index:e,item:t})=>{console.log("藏品列表点击",e,t)},E=({index:e,item:t})=>{L.value=e||0,B.value=t||{}};return(e,t)=>{const a=l("up-image"),r=l("up-col"),x=V(X("CxSwiperUni"),oe),A=_,w=l("up-row"),S=C,z=l("up-icon"),L=j,B=l("up-button"),D=V(X("CxScrollView"),ae),F=V(X("u-icon"),R),O=V(X("XnOrdersOrderCard"),q),U=V(X("BaseProductList"),ee),G=V(X("CommonTitleList"),le);return s(),d(p,null,[f(A,{class:"announcement"},{default:u((()=>[f(w,{customStyle:"margin-bottom: 10px"},{default:u((()=>[f(r,{span:"1"},{default:u((()=>[f(a,{"show-loading":!0,src:"/static/images/index/volume.png",width:"50rpx",height:"50rpx"})])),_:1}),f(r,{span:"10"},{default:u((()=>[f(x,{list:i(g),swiperHeight:"46rpx",config:{indicatorDots:!1,autoplay:!0,vertical:!0},onChange:E},null,8,["list"])])),_:1}),f(r,{span:"1"},{default:u((()=>[f(A,{class:"arrow-icon"})])),_:1})])),_:1})])),_:1}),f(A,{class:"collection-list"},{default:u((()=>[f(A,{class:"collection-content"},{default:u((()=>[f(D,{class:"list",ref_key:"cxScrollViewRef",ref:o,list:c,config:{direction:"x",visibleCount:2,gap:"10rpx"},onClick:Q},{item:u((({item:e})=>[f(A,{class:"manage-shortcut-entrance"},{default:u((()=>[f(S,{class:"shortcut-entrance-img",mode:"widthFix",src:e.src},null,8,["src"]),f(A,{class:"manage-shortcut-content"},{default:u((()=>[f(A,{class:"manage-shortcut-title"},{default:u((()=>[v(h(e.title),1)])),_:2},1024),f(A,{class:"manage-shortcut-links"},{default:u((()=>[f(B,{shape:"circle",color:"#1F5994",customStyle:{width:"auto",display:"inline-block",padding:"12rpx 22rpx",fontSize:"24rpx",height:"auto"},onClick:t=>(e=>{console.warn("跳转地址",e.path),I({url:e.path})})(e)},{default:u((()=>[f(L,null,{default:u((()=>[v(h(e.funtionText)+" ",1),f(z,{name:"arrow-right",size:"24rpx",color:"#A0BAD2",class:"shortcut-icon"})])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:1},512)])),_:1})])),_:1}),f(A,{class:"order-list-wrap"},{default:u((()=>[f(G,{title:"订单列表"},{more:u((()=>[f(A,{class:"bell-pic",onClick:P},{default:u((()=>[f(F,{name:"/static/images/orders/filter.png",size:"42rpx"})])),_:1})])),default:u((()=>[f(A,{class:"index-order-list"},{default:u((()=>[f(U,{onOnScrollToLower:M,onOnRefresh:K,isRefreshing:i(b),loadStatus:i(k),iconType:i(T),enableRefresh:!1,enableLoadMore:!0},{scrollContain:u((()=>[(s(!0),d(p,null,m(i(y),((e,t)=>(s(),n(O,{item:e,onGrabOrderClick:N,onHandleItemClick:H},null,8,["item"])))),256))])),_:1},8,["isRefreshing","loadStatus","iconType"])])),_:1})])),_:1})])),_:1})],64)}}},[["__scopeId","data-v-4884da03"]]),de=o({__name:"Gz",emits:["itemClick"],setup(t,{emit:a}){const{proxy:l}=H(),n=e(!1),o=e([]),c=e("loadmore"),m=e("flower");let g=1,x=!0,y=!1;const A=[{src:"/static/images/index/swiper-1.png",text:"我的藏品",path:"/pages/gz/nft/nft-collections"},{src:"/static/images/index/swiper-2.png",text:"NFT",path:"/pages/gz/nft/index"},{src:"/static/images/index/swiper-3.png",text:"RWA",path:"/pages/gz/rwa/index"},{src:"/static/images/index/swiper-2.png",text:"社区",path:"/pages/gz/community/index"},{src:"/static/images/index/swiper-1.png",text:"您的第二期收益已到账”“NFT藏品XXX价格上涨10%2"},{src:"/static/images/index/swiper-3.png",text:"您的第三期收益已到账”“NFT藏品XXX价格上涨10%3 您的第二期收益已到账”“NFT藏品XXX价格上涨10%"},{src:"/static/images/index/swiper-1.png",text:"您的第四期收益已到账”“NFT藏品XXX价格上涨10%4"}],b=[{src:"/static/images/index/community.png",title:"社区",funtionText:"管理",path:"/pages/gz/community/index"},{src:"/static/images/index/activities.png",title:"活动",funtionText:"管理",path:"/pages/my/work-management"},{src:"/static/images/index/community.png",title:"订单管理",funtionText:"管理",path:"/pages/orders/index"},{src:"/static/images/index/activities.png",title:"作品管理",funtionText:"管理",path:"/pages/my/work-management"}],w=({index:e,item:t})=>{console.log("活动 社区",e,t),I({url:t.path})},S=async e=>{if(e){if(y)return;n.value=!0,g=1,x=!0}if(x&&!y){y=!0,c.value="loading";try{const t=await k(g,10);t&&Array.isArray(t.list)?(o.value=e?t.list:[...o.value,...t.list],g++,x=t.hasMore??!1,c.value=x?"loadmore":"nomore"):(e&&(o.value=[]),c.value="nomore")}catch(t){e||(c.value="loadmore"),console.error("加载失败:",t)}finally{y=!1,n.value=!1}}},z=({index:e,item:t})=>{I({url:`/pages/my/login?title=${t.title}&index=${e}`})},k=async(e,t)=>{await new Promise((e=>setTimeout(e,800)));return{list:Array.from({length:t},((a,l)=>({id:(e-1)*t+l+1,image:`https://picsum.photos/seed/${Math.random()}/120/80`,artist:"李柳柳",title:"东方美学 | 绣春花",price:666.66}))),hasMore:e<3}},T=()=>{S(!0)},j=()=>{x&&!y&&S()};return r((()=>{S(!0)})),(e,t)=>{const a=C,r=_,g=V(X("CxScrollView"),ae),x=V(X("CommonProductCol"),se),y=V(X("BaseProductList"),ee),S=V(X("CommonTitleList"),le);return s(),d(p,null,[f(r,{class:"index-nft"},{default:u((()=>[f(g,{class:"list",ref:"cxScrollViewRef",list:A,config:{direction:"x",visibleCount:4}},{item:u((({item:e})=>[f(r,{class:"item-content",onClick:t=>(e=>{l.$u.toast(`${e.text}`),I({url:e.path})})(e)},{default:u((()=>[f(a,{class:"nft-img",mode:"aspectFill",src:e.src},null,8,["src"]),f(r,{class:"nft-des up-text-ellipsis"},{default:u((()=>[v(h(e.text),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:1},512)])),_:1}),f(r,{class:"collection-content"},{default:u((()=>[f(g,{class:"list",ref:"cxScrollViewRef",list:b,config:{direction:"x",visibleCount:2,gap:"10rpx"},onClick:w},{item:u((({item:e})=>[f(r,{class:"manage-shortcut-entrance"},{default:u((()=>[f(a,{class:"shortcut-entrance-img",mode:"widthFix",src:e.src},null,8,["src"]),f(r,{class:"manage-shortcut-content"},{default:u((()=>[f(r,{class:"manage-shortcut-title"},{default:u((()=>[v(h(e.title),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:1},512)])),_:1}),f(r,{class:"recommend-product"},{default:u((()=>[f(S,{title:"推荐藏品",moreUrl:"/pages/my/login"},{default:u((()=>[f(r,{class:"recommend-content"},{default:u((()=>[f(y,{onOnScrollToLower:j,onOnRefresh:T,isRefreshing:i(n),loadStatus:i(c),iconType:i(m),enableRefresh:!0},{scrollContain:u((()=>[f(x,{colNum:2,productList:i(o),onClick:z},null,8,["productList"])])),_:1},8,["isRefreshing","loadStatus","iconType"])])),_:1})])),_:1})])),_:1})],64)}}},[["__scopeId","data-v-2717661d"]]),pe=o({__name:"index",setup(a){var o,c;N((e=>({"6546dbb4":g})));const{proxy:m}=H(),g=m.$safeAreaInfo.top+"rpx",v={IndexXn:ue,IndexGz:de},h=e([]),C=P();let A=e(1);e(0),e("1200");let b=e(0),w=e(!1),z=e([]);const k=e("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAASCAMAAAA0cZ07AAAA9lBMVEUAAAD//6r//7//1Kr//6r//9T/5rPo0aLo0bno6KLo6Lnt26Tt27bz26rz4bDz4bbz57z03q704LP047nz2J7z3Kb02J703Kj05r/25sH26srz153z3Kf05b706sj04bH04bH04rX04rb04LL047X147j03q/04K/04bP04bT047fz157z26bz3Kf05sH06sjz2J7z2Z7z26Xz3Kj05sH06sn15r/z2J7z2J/z2aDz2aHz2qLz2qPz2qTz26Xz26bz3Kf04LD04LH04bL04bT04rX04rb15sD158H158L158P16MT16MX16cX16cb16cf16sj16smb3zkwAAAAN3RSTlMAAwQGBgYKCwsLCw4OKioqKnV1dZCQkJCQkJCRkZGRoKGhoaKi4uPj4+Pj7u7u7u7v7+/v7+/vMgiCywAAAM5JREFUOMtjYMALmJgYKAFsbBRpZ2amSDs/P0XahYQo0c2poclFwHci2uZQYGFpaWVtY2unIwrzsbyziyKUySqp5+nl7ePr5x8QEAgB+lKsDCLm5uja7R3EwTrYFZycXVyVOMAcCXcPdO2BgVIMhti0GzOyMfMKqjmCtLupCvOzsDGaYdNuil27LiM3M5+gOkS7lrAAKw927foM0ti0y2A6XhabdjkGZjEDdO1GMrCgU3Z2UYEHnQm6dlM5VkojjpbJhtJES2GWoTDDEiouANDFSl0mbzP2AAAAAElFTkSuQmCC"),T=e({color:"#FFF"}),j=e({color:"#CCBCBC"}),L=e([{name:"公众端",rolse:"IndexGz"},{name:"绣娘端",rolse:"IndexXn"}]);let R=(null==(o=C.userInfoXn)?void 0:o.token)||Q("tokenXn"),B=(null==(c=C.userInfoGz)?void 0:c.token)||Q("tokenGz"),D=e(!1);const F=e(!1),K=()=>{I({url:"/pages/xn/my/system-notification",success:e=>{e.eventChannel.emit("sendMessageDatas",{messageListsData:z.value})}})},M=()=>{D.value=!1},O=()=>{D.value=!0},U=t((()=>v[L.value[b.value].rolse])),G=({index:e,item:t})=>{b.value=e},q=({index:e,item:t})=>{A.value=e};return r((()=>{(async()=>{var e,t;try{const a=await W();200===a.code&&a.data.lists&&(h.value=null==(t=null==(e=null==a?void 0:a.data)?void 0:e.lists)?void 0:t.map((e=>({...e,type:"image",src:e.image,name:e.name||"",id:e.id}))))}catch(a){console.error("获取Banner失败",a)}})(),(async()=>{var e,t,a;try{const l=await ne();if(200===l.code&&(null==(e=null==l?void 0:l.data)?void 0:e.lists)){z.value=(null==(t=null==l?void 0:l.data)?void 0:t.lists)||[];const e=null==(a=null==l?void 0:l.data)?void 0:a.lists.filter((e=>1!=e.is_read));w.value=e.length>0}else w.value=!1}catch(l){console.error("获取消息列表失败",l),w.value=!1}})()})),E((()=>{})),S((()=>{var e,t;R=(null==(e=m.$globalUserInfoXn)?void 0:e.token)||Q("tokenXn"),B=(null==(t=m.$globalUserInfoGz)?void 0:t.token)||Q("tokenGz");const a=C.currentRole||Q("currentRole");B||R?("XN"===a?(b.value=1,F.value=!1):"gz"===a?(b.value=0,F.value=!1):(b.value=R?1:0,F.value=!0),1!==b.value||R?0!==b.value||B||(b.value=1):b.value=0):Z({url:"/pages/my/login"})})),(e,t)=>{const a=_,o=V(X("BaseRolseTabs"),ie),r=l("up-col"),c=V(X("CxSearch"),$),m=l("up-icon"),g=l("up-badge"),v=l("up-row"),A=V(X("CxSwiperUni"),oe),b=V(X("LayoutCustomBarXn"),Y),S=V(X("LayoutCustomBarGz"),re),z=V(X("XnIndexSearch"),ce),R=l("up-popup");return s(),d(p,null,[f(a,{class:"page-wrap index"},{default:u((()=>[f(a,{style:y({paddingTop:e.$safeAreaInfo.top+"rpx"})},null,8,["style"]),f(a,{class:"page-content"},{default:u((()=>[f(v,{customStyle:"margin-bottom: 10px"},{default:u((()=>[i(F)?(s(),n(r,{key:0,span:i(F)?5:0},{default:u((()=>[f(a,{class:"tabs-wrap"},{default:u((()=>[f(o,{tabItems:i(L),lineBg:i(k),activeStyle:i(T),inactiveStyle:i(j),onChangeTab:G},null,8,["tabItems","lineBg","activeStyle","inactiveStyle"])])),_:1})])),_:1},8,["span"])):x("",!0),f(r,{span:i(F)?5:10},{default:u((()=>[f(a,{class:"search-bar"},{default:u((()=>[f(c,{placeholder:"输入搜索内容",onFocus:O})])),_:1})])),_:1},8,["span"]),f(r,{span:"2"},{default:u((()=>[f(a,{class:"bell-pic"},{default:u((()=>[f(a,{class:"icon-wrapper",onClick:K},{default:u((()=>[f(m,{size:"58rpx",color:"#fff",name:"bell"}),f(g,{isDot:i(w),class:"badge-dot"},null,8,["isDot"])])),_:1})])),_:1})])),_:1})])),_:1}),f(a,{class:"banner-swiper"},{default:u((()=>[f(A,{list:i(h),swiperHeight:"280rpx",config:{autoplay:!0,indicatorActiveColor:"rgba(255,255,255,.6)"},onChange:q},null,8,["list","config"])])),_:1}),(s(),n(J,null,[(s(),n(X(i(U)),{onShowSearch:O},null,32))],1024))])),_:1}),"XN"==i(C).currentRole?(s(),n(b,{key:0})):(s(),n(S,{key:1}))])),_:1}),(s(),n(J,null,[f(R,{show:i(D),bgColor:"#691e23",mode:"right",duration:100,safeAreaInsetTop:"",customStyle:"width: 750rpx;"},{default:u((()=>[f(z,{onClose:M})])),_:1},8,["show"])],1024))],64)}}},[["__scopeId","data-v-d9f2a71a"]]);export{pe as default};
